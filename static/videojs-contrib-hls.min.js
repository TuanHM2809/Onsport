!function t(e,n,r){function i(s,o){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=t(29),s=r(a),o=function(t,e){for(var n=t.cues,r=0;r<n.length;r++){var i=n[r];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},u=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t.segments)for(var r=n,a=void 0,u=0;u<t.segments.length;u++){var l=t.segments[u];if(a||(a=o(e,r+l.duration/2)),a){if("cueIn"in l){a.endTime=r,a.adEndTime=r,r+=l.duration,a=null;continue}if(r<a.endTime){r+=l.duration;continue}a.endTime+=l.duration}else if("cueOut"in l&&(a=new s["default"].VTTCue(r,r+l.duration,l.cueOut),a.adStartTime=r,a.adEndTime=r+parseFloat(l.cueOut),e.addCue(a)),"cueOutCont"in l){var f=void 0,d=void 0,c=l.cueOutCont.split("/").map(parseFloat),h=i(c,2);f=h[0],d=h[1],a=new s["default"].VTTCue(r,r+l.duration,""),a.adStartTime=r-f,a.adEndTime=a.adStartTime+d,e.addCue(a)}r+=l.duration}};n["default"]={updateAdCues:u,findAdCue:o},e.exports=n["default"]},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e){return t.start(e)+"-"+t.end(e)},i=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},a=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},s=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];ArrayBuffer.isView(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},o=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},u={hexDump:function(t){for(var e=Array.prototype.slice.call(t),n=16,r="",s=void 0,o=void 0,u=0;u<e.length/n;u++)s=e.slice(u*n,u*n+n).map(i).join(""),o=e.slice(u*n,u*n+n).map(a).join(""),r+=s+" "+o+"\n";return r},tagDump:function(t){return u.hexDump(t.bytes)},textRanges:function(t){var e="",n=void 0;for(n=0;n<t.length;n++)e+=r(t,n)+" ";return e},createTransferableMessage:s,initSegmentId:o};n["default"]=u,e.exports=n["default"]},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},e.exports=n["default"]},{}],4:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(29),a=r(i),s=t(25),o=t(2),u=function(t){t.onmessage=function(t){var e=t.data,n=new Uint8Array(e.encrypted.bytes,e.encrypted.byteOffset,e.encrypted.byteLength),r=new Uint32Array(e.key.bytes,e.key.byteOffset,e.key.byteLength/4),i=new Uint32Array(e.iv.bytes,e.iv.byteOffset,e.iv.byteLength/4);new s.Decrypter(n,r,i,function(t,n){a["default"].postMessage((0,o.createTransferableMessage)({source:e.source,decrypted:n}),[n.buffer])})}};n["default"]=function(t){return new u(t)},e.exports=n["default"]},{}],5:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},u=t(9),l=r(u),f=t(16),d=r(f),c=t(20),h=r(c),p=t(12),g=r(p),m="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,y=r(m),v=t(1),_=r(v),b=t(18),T=r(b),S=t(48),w=t(81),k=r(w),O=t(4),E=r(O),A=t(3),L=r(A),P=t(19),I=t(6),C=120,x=void 0,U={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},M=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],R=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},D=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return(0,S.translateLegacyCodecs)([t])[0]})};n.mapLegacyAvcCodecs_=D;var B=function(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'},j=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"},N=function(t){var e=t.attributes||{};return e.CODECS?(0,P.parseCodecs)(e.CODECS):U},F=function(t,e){var n=j(e),r=N(e),i=e.attributes||{},a=!0,s=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&i.AUDIO){var o=t.mediaGroups.AUDIO[i.AUDIO];if(o){s=!0,a=!1;for(var u in o)if(!o[u].uri){a=!0;break}}}s&&!r.audioProfile&&(y["default"].log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=U.audioProfile);var l={};r.videoCodec&&(l.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(l.audio="mp4a.40."+r.audioProfile);var f=B("audio",n,[l.audio]),d=B("video",n,[l.video]),c=B("video",n,[l.video,l.audio]);return s?!a&&l.video?[d,f]:[c,f]:l.video?[c]:[f]};n.mimeTypesForPlaylist_=F;var q=function(t){function e(t){var n=this;i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var r=t.url,a=t.withCredentials,s=t.mode,u=t.tech,f=t.bandwidth,c=t.externHls,p=t.useCueTags,g=t.blacklistDuration,m=t.enableLowInitialPlaylist;if(!r)throw new Error("A non-empty playlist URL is required");x=c,this.withCredentials=a,this.tech_=u,this.hls_=u.hls,this.mode_=s,this.useCueTags_=p,this.blacklistDuration=g,this.enableLowInitialPlaylist=m,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.mediaTypes_=(0,I.createMediaTypes)(),this.mediaSource=new y["default"].MediaSource({mode:s}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=y["default"].createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new T["default"](t),this.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,k["default"])(E["default"]);var v={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:f,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new l["default"](r,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new d["default"](y["default"].mergeOptions(v,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new d["default"](y["default"].mergeOptions(v,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new h["default"](y["default"].mergeOptions(v,{loaderType:"vtt"}),t),this.setupSegmentLoaderListeners_(),M.forEach(function(t){n[t+"_"]=R.bind(n,t)}),this.masterPlaylistLoader_.load()}return a(e,t),s(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;t.masterPlaylistLoader_.isLowestEnabledRendition_()?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),(0,I.setupMediaGroups)({segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,mode:t.mode_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(r){return y["default"].log.warn("Failed to create SourceBuffers",r),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){var n=void 0;return t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,void t.masterPlaylistLoader_.media(t.initialMedia_)}t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||t.mainSegmentLoader_.load(),e.endList||!function(){var e=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};t.duration()!==1/0?!function(){var n=function r(){t.duration()===1/0?e():t.tech_.one("durationchange",r)};t.tech_.one("durationchange",n)}():e()}()}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;t.masterPlaylistLoader_.isLowestEnabledRendition_()?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media(),n=t.stuckAtPlaylistEnd_(e);n&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var s in n.AUDIO[a]){var o=n.AUDIO[a][s];o.uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),x.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),x.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),r=t.tech_.buffered(),i=r.length?r.end(r.length-1)-t.tech_.currentTime():0,a=t.bufferLowWaterLine();(!n.endList||t.duration()<L["default"].MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<n.attributes.BANDWIDTH||i>=a)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},C)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=void 0,e=this.masterPlaylistLoader_.media();return!(!e||this.tech_.paused()||this.hasPlayed_())&&(e.endList||(this.trigger("firstplay"),t=this.seekable(),t.length&&this.tech_.setCurrentTime(t.end(0))),this.hasPlayed_=function(){return!0},this.load(),!0)}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return y["default"].log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}this.tech_.autoplay()&&this.tech_.play(),this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=t&&this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){var e=this.seekable();if(!e.length)return!1;var n=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===n)return!1;var r=x.Playlist.playlistEnd(t,n),i=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return r-i<=g["default"].TIME_FUDGE_FACTOR;var s=a.end(a.length-1);return s-i<=g["default"].TIME_FUDGE_FACTOR&&r-s<=g["default"].TIME_FUDGE_FACTOR}},{key:"blacklistCurrentPlaylist",value:function(t,e){void 0===t&&(t={});var n=void 0,r=void 0;if(n=t.playlist||this.masterPlaylistLoader_.media(),!n){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(i){return this.trigger("error")}}var a=this.masterPlaylistLoader_.isFinalRendition_();return a?(y["default"].log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a)):(n.excludeUntil=Date.now()+1e3*(e?e:this.blacklistDuration),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),y["default"].log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=g["default"].findRange(this.tech_.buffered(),t);if(!this.masterPlaylistLoader_||!this.masterPlaylistLoader_.media())return 0;if(!this.masterPlaylistLoader_.media().segments)return 0;var n="flash"===this.mode_||"auto"===this.mode_&&!y["default"].MediaSource.supportsNativeMediaSources();return e&&e.length&&!n?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load())}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:x.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&(t=x.Playlist.seekable(n,r),0!==t.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),r=this.syncController_.getExpiredTime(n,this.mediaSource.duration),null===r)return;if(e=x.Playlist.seekable(n,r),0===e.length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=y["default"].createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=x.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function a(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",a)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var n=t.mediaTypes_[e].groups;for(var r in n)n[r].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;if(t&&"open"===this.mediaSource.readyState){if(e=F(this.masterPlaylistLoader_.master,t),e.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(t){var e=this.masterPlaylistLoader_.master,n=2,r=null,i=void 0;t.attributes.CODECS&&(i=(0,P.parseCodecs)(t.attributes.CODECS),r=i.videoCodec,n=i.codecCount),e.playlists.forEach(function(t){var e={codecCount:2,videoCodec:null};if(t.attributes.CODECS){var i=t.attributes.CODECS;e=(0,P.parseCodecs)(i),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+D(i)+'"')&&(t.excludeUntil=1/0)}e.codecCount!==n&&(t.excludeUntil=1/0),e.videoCodec!==r&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),_["default"].updateAdCues(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=L["default"].GOAL_BUFFER_LENGTH,n=L["default"].GOAL_BUFFER_LENGTH_RATE,r=Math.max(e,L["default"].MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,r)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=L["default"].BUFFER_LOW_WATER_LINE,n=L["default"].BUFFER_LOW_WATER_LINE_RATE,r=Math.max(e,L["default"].MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,r)}}]),e}(y["default"].EventTarget);n.MasterPlaylistController=q}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,a=r(i),s=t(9),o=r(s),u=function(){},l=function(t){var e=t["default"]?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},f=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)};n.stopLoaders=f;var d=function(t,e){e.activePlaylistLoader=t,t.load()};n.startLoaders=d;var c=function(t,e){return function(){var n=e.segmentLoaders,r=n[t],i=n.main,a=e.mediaTypes[t],s=a.activeTrack(),o=a.activeGroup(s),u=a.activePlaylistLoader;if(f(r,a),o){if(!o.playlistLoader)return void(u&&i.resetEverything());r.resyncLoader(),d(o.playlistLoader,a)}}};n.onGroupChanged=c;var h=function(t,e){return function(){var n=e.segmentLoaders,r=n[t],i=n.main,a=e.mediaTypes[t],s=a.activeTrack(),o=a.activeGroup(s),u=a.activePlaylistLoader;if(f(r,a),o){if(!o.playlistLoader)return void i.resetEverything();if(u===o.playlistLoader)return void d(o.playlistLoader,a);r.track&&r.track(s),r.resetEverything(),d(o.playlistLoader,a)}}};n.onTrackChanged=h;var p={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],r=e.mediaTypes[t],i=e.blacklistCurrentPlaylist;f(n,r);var s=r.activeTrack(),o=r.activeGroup(),u=(o.filter(function(t){return t["default"]})[0]||o[0]).id,l=r.tracks[u];if(s===l)return void i({message:"Problem encountered loading the default audio track."});a["default"].log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in r.tracks)r.tracks[d].enabled=r.tracks[d]===l;r.onTrackChanged()}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],r=e.mediaTypes[t];a["default"].log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),f(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}};n.onError=p;var g={AUDIO:function(t,e,n){if(e){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,i),(!r.paused()||t.endList&&"none"!==r.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),i),r.paused()||a.load()}),e.on("error",p[t](t,n))}},SUBTITLES:function(t,e,n){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[t],s=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,i),a.track(s.activeTrack()),(!r.paused()||t.endList&&"none"!==r.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),i),r.paused()||a.load()}),e.on("error",p[t](t,n))}};n.setupListeners=g;var m={AUDIO:function(t,e){var n=e.mode,r=e.hls,i=e.segmentLoaders[t],s=e.requestOptions.withCredentials,u=e.master.mediaGroups,f=e.mediaTypes[t],d=f.groups,c=f.tracks;u[t]&&0!==Object.keys(u[t]).length&&"html5"===n||(u[t]={main:{"default":{"default":!0}}});for(var h in u[t]){d[h]||(d[h]=[]);for(var m in u[t][h]){var y=u[t][h][m],v=void 0;if(v=y.resolvedUri?new o["default"](y.resolvedUri,r,s):null,y=a["default"].mergeOptions({id:m,playlistLoader:v},y),g[t](t,y.playlistLoader,e),d[h].push(y),"undefined"==typeof c[m]){var _=new a["default"].AudioTrack({id:m,kind:l(y),enabled:!1,language:y.language,"default":y["default"],label:m});c[m]=_}}}i.on("error",p[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,r=e.hls,i=e.segmentLoaders[t],s=e.requestOptions.withCredentials,u=e.master.mediaGroups,l=e.mediaTypes[t],f=l.groups,d=l.tracks;for(var c in u[t]){f[c]||(f[c]=[]);for(var h in u[t][c])if(!u[t][c][h].forced){var m=u[t][c][h];if(m=a["default"].mergeOptions({id:h,playlistLoader:new o["default"](m.resolvedUri,r,s)},m),g[t](t,m.playlistLoader,e),f[c].push(m),"undefined"==typeof d[h]){var y=n.addRemoteTextTrack({id:h,kind:"subtitles",enabled:!1,language:m.language,label:h},!1).track;d[h]=y}}}i.on("error",p[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,r=e.master.mediaGroups,i=e.mediaTypes[t],s=i.groups,o=i.tracks;for(var u in r[t]){s[u]||(s[u]=[]);for(var l in r[t][u]){var f=r[t][u][l];if(f.instreamId.match(/CC\d/)&&(s[u].push(a["default"].mergeOptions({id:l},f)),"undefined"==typeof o[l])){var d=n.addRemoteTextTrack({id:f.instreamId,kind:"captions",enabled:!1,language:f.language,label:l},!1).track;o[l]=d}}}}};n.initialize=m;var y=function(t,e){return function(n){var r=e.masterPlaylistLoader,i=e.mediaTypes[t].groups,a=r.media();if(!a)return null;var s=null;return a.attributes[t]&&(s=i[a.attributes[t]]),s=s||i.main,"undefined"==typeof n?s:null===n?null:s.filter(function(t){return t.id===n.id})[0]||null}};n.activeGroup=y;var v={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}};n.activeTrack=v;var _=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){m[e](e,t)});var e=t.mediaTypes,n=t.masterPlaylistLoader,r=t.tech,i=t.hls;["AUDIO","SUBTITLES"].forEach(function(n){e[n].activeGroup=y(n,t),e[n].activeTrack=v[n](n,t),e[n].onGroupChanged=c(n,t),e[n].onTrackChanged=h(n,t)});var a=e.AUDIO.activeGroup(),s=(a.filter(function(t){return t["default"]})[0]||a[0]).id;e.AUDIO.tracks[s].enabled=!0,e.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var o=function(){e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",o),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",function(){r.audioTracks().removeEventListener("change",o),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])};n.setupMediaGroups=_;var b=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:u,activeTrack:u,onGroupChanged:u,onTrackChanged:u}}),t};n.createMediaTypes=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,a=r(i),s=t(2),o=(t(25),t(30)),u=(r(o),{FAILURE:2,TIMEOUT:-101,ABORTED:-102});n.REQUEST_ERRORS=u;var l=function(t){var e=void 0,n=void 0;return n=t.offset+t.length-1,e=t.offset,"bytes="+e+"-"+n},f=function(t){var e={};return t.byterange&&(e.Range=l(t.byterange)),e},d=function(t){t.forEach(function(t){t.abort()})},c=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},h=function(t){var e=t.target,n=Date.now()-e.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},p=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:u.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:u.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:u.FAILURE,xhr:e}:null},g=function(t,e){return function(n,r){var i=r.response,a=p(n,r);if(a)return e(a,t);if(16!==i.byteLength)return e({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:u.FAILURE,xhr:r},t);var s=new DataView(i);return t.key.bytes=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),e(null,t)}},m=function(t,e){return function(n,r){var i=r.response,a=p(n,r);return a?e(a,t):0===i.byteLength?e({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:u.FAILURE,xhr:r},t):(t.map.bytes=new Uint8Array(r.response),e(null,t))}},y=function(t,e){return function(n,r){var i=r.response,a=p(n,r);return a?e(a,t):0===i.byteLength?e({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:u.FAILURE,xhr:r},t):(t.stats=c(r),t.key?t.encryptedBytes=new Uint8Array(r.response):t.bytes=new Uint8Array(r.response),e(null,t))}},v=function(t){return Array.prototype.map.call(t,function(t){return("00"+t.toString(16)).slice(-8)}).join("")},_=function(t){var e=t.match(/.{1,8}/g);return Array.prototype.map.call(e,function(t){return parseInt("0x"+t.toString())})},b=function(t){var e=v(t),n=Module.ccall("encmy","string",["string"],[e.toUpperCase()]),r=_(n);return r},T=function(t,e,n){var r=function o(r){if(r.data.source===e.requestId){t.removeEventListener("message",o);var i=r.data.decrypted;return e.bytes=new Uint8Array(i.bytes,i.byteOffset,i.byteLength),n(null,e)}},i=b(e.key.bytes),a=new Uint32Array([i[0],i[1],i[2],i[3]]);t.addEventListener("message",r),t.postMessage((0,s.createTransferableMessage)({source:e.requestId,encrypted:e.encryptedBytes,key:a,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])},S=function(t){return t.reduce(function(t,e){return e.code>t.code?e:t})},w=function(t,e,n){var r=[],i=0;return function(a,s){if(a&&(d(t),r.push(a)),i+=1,i===t.length){if(s.endOfAllRequests=Date.now(),r.length>0){var o=S(r);return n(o,s)}return s.encryptedBytes?T(e,s,n):n(null,s)}}},k=function(t,e){return function(n){return t.stats=a["default"].mergeOptions(t.stats,h(n)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(n,t)}},O=function(t,e,n,r,i,s){var o=[],u=w(o,n,s);if(r.key){var l=a["default"].mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),c=g(r,u),h=t(l,c);o.push(h)}if(r.map&&!r.map.bytes){var p=a["default"].mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:f(r.map)}),v=m(r,u),_=t(p,v);o.push(_)}var b=a["default"].mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:f(r)}),T=y(r,u),S=t(b,T);return S.addEventListener("progress",k(r,i)),o.push(S),function(){return d(o)}};n.mediaSegmentRequest=O}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){
    return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t(29),u=i(o),l=t(12),f=i(l),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof r?r.videojs:null,c=i(d),h=["seeking","seeked","pause","playing","error"],p=function(){function t(e){var n=this;a(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=c["default"].log.bind(c["default"],"playback-watcher ->")),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.techWaiting_()},s=function(){return n.cancelTimer_()},o=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",o),this.tech_.on("waiting",i),this.tech_.on(h,s),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",o),n.tech_.off("waiting",i),n.tech_.off(h,s),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&u["default"].clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return s(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&u["default"].clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=u["default"].setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();return this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1))?this.techWaiting_():void(this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t))}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),r=void 0;if(t&&this.afterSeekableWindow_(e,n)){var i=e.end(e.length-1);r=i}if(t&&this.beforeSeekableWindow_(e,n)){var a=e.start(0);r=a+.1}return"undefined"!=typeof r&&(this.logger_("Trying to seek outside of seekable at time "+n+" with "+("seekable range "+f["default"].printableRange(e)+". Seeking to ")+(r+".")),this.tech_.setCurrentTime(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=f["default"].findRange(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),i=f["default"].findNextRange(r,e);if(this.videoUnderflow_(i,r,e))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var a=i.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var r=this.gapFromVideoUnderflow_(e,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),r=f["default"].findNextRange(e,n);this.cancelTimer_(),0!==r.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+f["default"].TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=f["default"].findGaps(t),r=0;r<n.length;r++){var i=n.start(r),a=n.end(r);if(e-i<4&&e-i>2)return{start:i,end:a}}return null}},{key:"logger_",value:function(){}}]),t}();n["default"]=p,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},u=t(15),l=r(u),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,d=t(11),c=t(31),h=r(c),p=t(29),g=r(p),m=function(t,e,n){var r=e.slice();n=n||0;for(var i=Math.min(t.length,e.length+n),a=n;a<i;a++)r[a-n]=(0,f.mergeOptions)(t[a],r[a-n]);return r};n.updateSegments=m;var y=function(t,e){var n=(0,f.mergeOptions)(t,{}),r=n.playlists.filter(function(t){return t.uri===e.uri})[0];if(!r)return null;if(r.segments&&e.segments&&r.segments.length===e.segments.length&&r.mediaSequence===e.mediaSequence)return null;var i=(0,f.mergeOptions)(r,e);r.segments&&(i.segments=m(r.segments,e.segments,e.mediaSequence-r.mediaSequence)),i.segments.forEach(function(t){t.resolvedUri||(t.resolvedUri=(0,l["default"])(i.resolvedUri,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=(0,l["default"])(i.resolvedUri,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=(0,l["default"])(i.resolvedUri,t.map.uri))});for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===e.uri&&(n.playlists[a]=i);return n.playlists[e.uri]=i,n};n.updateMaster=y;var v=function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];t.playlists[n.uri]=n,n.resolvedUri=(0,l["default"])(t.uri,n.uri),n.attributes||(n.attributes={},f.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};n.setupMediaPlaylists=v;var _=function(t){["AUDIO","SUBTITLES"].forEach(function(e){for(var n in t.mediaGroups[e])for(var r in t.mediaGroups[e][n]){var i=t.mediaGroups[e][n][r];i.uri&&(i.resolvedUri=(0,l["default"])(t.uri,i.uri))}})};n.resolveMediaGroupUris=_;var b=function(t){function e(t,n,r){var a=this;if(i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.srcUrl=t,this.hls_=n,this.withCredentials=r,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===a.state&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:(0,l["default"])(a.master.uri,a.media().uri),withCredentials:a.withCredentials},function(t,e){if(a.request)return t?a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA"):void a.haveMetadata(a.request,a.media().uri)}))})}return a(e,t),s(e,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new h["default"].Parser;r.push(t.responseText),r.end(),r.manifest.uri=e,r.manifest.attributes=r.manifest.attributes||{};var i=y(this.master,r.manifest),a=1e3*(r.manifest.targetDuration||10);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):(a/=2,this.trigger("playlistunchanged")),this.media().endList||(g["default"].clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=g["default"].setTimeout(function(){n.trigger("mediaupdatetimeout")},a)),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),g["default"].clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"enabledPlaylists_",value:function(){return this.master.playlists.filter(d.isEnabled).length}},{key:"isLowestEnabledRendition_",value:function(){if(1===this.master.playlists.length)return!0;var t=this.media().attributes.BANDWIDTH||Number.MAX_VALUE;return 0===this.master.playlists.filter(function(e){return!!(0,d.isEnabled)(e)&&(e.attributes.BANDWIDTH||0)<t}).length}},{key:"isFinalRendition_",value:function(){return 1===this.master.playlists.filter(d.isEnabled).length}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var r=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if((0,l["default"])(this.master.uri,t.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:(0,l["default"])(this.master.uri,t.uri),withCredentials:this.withCredentials},function(r,i){if(e.request){if(r)return e.playlistRequestError(e.request,t.uri,n);e.haveMetadata(i,t.uri),"HAVE_MASTER"===n?e.trigger("loadedmetadata"):e.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),g["default"].clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;g["default"].clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var r=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=g["default"].setTimeout(function(){return e.load()},r))}return this.started?void(n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")):void this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var r=new h["default"].Parser;return r.push(n.responseText),r.end(),t.state="HAVE_MASTER",r.manifest.uri=t.srcUrl,r.manifest.playlists?(t.master=r.manifest,v(t.master),_(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(r.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:g["default"].location.href,playlists:[{uri:t.srcUrl}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.master.playlists[0].resolvedUri=t.srcUrl,t.master.playlists[0].attributes=t.master.playlists[0].attributes||{},t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),e}(f.EventTarget);n["default"]=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(3),a=r(i),s=t(11),o=r(s),u=t(19),l=function(t,e){var n=void 0;return t?(n=window.getComputedStyle(t),n?n[e]:""):""},f=function(t,e){var n=t.slice();t.sort(function(t,r){var i=e(t,r);return 0===i?n.indexOf(t)-n.indexOf(r):i})},d=function(t,e){var n=void 0,r=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||window.Number.MAX_VALUE,n-r};n.comparePlaylistBandwidth=d;var c=function(t,e){var n=void 0,r=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||window.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};n.comparePlaylistResolution=c;var h=function(t,e,n,r){var i=t.playlists.map(function(t){var e=void 0,n=void 0,r=void 0;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,r=t.attributes.BANDWIDTH,r=r||window.Number.MAX_VALUE,{bandwidth:r,width:e,height:n,playlist:t}});f(i,function(t,e){return t.bandwidth-e.bandwidth}),i=i.filter(function(t){return o["default"].isEnabled(t.playlist)});var s=i.filter(function(t){return t.bandwidth*a["default"].BANDWIDTH_VARIANCE<e}),u=s[s.length-1],l=s.filter(function(t){return t.bandwidth===u.bandwidth})[0],d=s.filter(function(t){return t.width&&t.height});f(d,function(t,e){return t.width-e.width});var c=d.filter(function(t){return t.width===n&&t.height===r});u=c[c.length-1];var h=c.filter(function(t){return t.bandwidth===u.bandwidth})[0],p=void 0,g=void 0,m=void 0;return h||(p=d.filter(function(t){return t.width>n||t.height>r}),g=p.filter(function(t){return t.width===p[0].width&&t.height===p[0].height}),u=g[g.length-1],m=g.filter(function(t){return t.bandwidth===u.bandwidth})[0]),(m||h||l||i[0]).playlist};n.simpleSelector=h;var p=function(){return h(this.playlists.master,this.systemBandwidth,parseInt(l(this.tech_.el(),"width"),10),parseInt(l(this.tech_.el(),"height"),10))};n.lastBandwidthSelector=p;var g=function(t){var e=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return e<0&&(e=this.systemBandwidth),e=t*this.systemBandwidth+(1-t)*e,h(this.playlists.master,e,parseInt(l(this.tech_.el(),"width"),10),parseInt(l(this.tech_.el(),"height"),10))}};n.movingAverageBandwidthSelector=g;var m=function(t){var e=t.master,n=t.currentTime,r=t.bandwidth,i=t.duration,a=t.segmentDuration,s=t.timeUntilRebuffer,u=t.currentTimeline,l=t.syncController,c=e.playlists.filter(function(t){return o["default"].isEnabled(t)&&o["default"].hasAttribute("BANDWIDTH",t)}),h=c.map(function(t){var e=l.getSyncPoint(t,i,u,n),f=e?1:2,d=o["default"].estimateSegmentRequestTime(a,r,t),c=d*f-s;return{playlist:t,rebufferingImpact:c}}),p=h.filter(function(t){return t.rebufferingImpact<=0});return f(p,function(t,e){return d(e.playlist,t.playlist)}),p.length?p[0]:(f(h,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),h[0]||null)};n.minRebufferMaxBandwidthSelector=m;var y=function(){var t=this.playlists.master.playlists.filter(o["default"].isEnabled);f(t,function(t,e){return d(t,e)});var e=t.filter(function(t){return(0,u.parseCodecs)(t.attributes.CODECS).videoCodec});return e[0]||null};n.lowestBitrateCompatibleVariantSelector=y},{}],11:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,a=t(29),s=r(a),o={UNSAFE_LIVE_SEGMENTS:3},u=function(t,e){var n=0,r=e-t.mediaSequence,i=t.segments[r];if(i){if("undefined"!=typeof i.start)return{result:i.start,precise:!0};if("undefined"!=typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=t.segments[r],"undefined"!=typeof i.end)return{result:n+i.end,precise:!0};if(n+=i.duration,"undefined"!=typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},l=function(t,e){for(var n=0,r=void 0,i=e-t.mediaSequence;i<t.segments.length;i++){if(r=t.segments[i],"undefined"!=typeof r.start)return{result:r.start-n,precise:!0};if(n+=r.duration,"undefined"!=typeof r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},f=function(t,e,n){var r=void 0,i=void 0;return"undefined"==typeof e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(r=u(t,e),r.precise?r.result:(i=l(t,e),i.precise?i.result:r.result+n))},d=function(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),"undefined"==typeof e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return s["default"].Infinity}return f(t,e,n)};n.duration=d;var c=function(t,e,n){var r=0;if(e>n){var i=[n,e];e=i[0],n=i[1]}if(e<0){for(var a=e;a<Math.min(0,n);a++)r+=t.targetDuration;e=0}for(var a=e;a<n;a++)r+=t.segments[a].duration;return r};n.sumDurations=c;var h=function(t,e,n){if(!t||!t.segments)return null;if(t.endList)return d(t);if(null===e)return null;e=e||0;var r=n?Math.max(0,t.segments.length-o.UNSAFE_LIVE_SEGMENTS):Math.max(0,t.segments.length);return f(t,t.mediaSequence+r,e)};n.playlistEnd=h;var p=function(t,e){var n=!0,r=e||0,a=h(t,e,n);return null===a?(0,i.createTimeRange)():(0,i.createTimeRange)(r,a)};n.seekable=p;var g=function(t){return t-Math.floor(t)===0},m=function(t,e){if(g(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),a=e*i;if(g(a)||r===n)return(a+t)/i}},y=m.bind(null,1),v=m.bind(null,-1),_=function(t,e,n,r){var i=void 0,a=void 0,s=t.segments.length,o=e-r;if(o<0){if(n>0)for(i=n-1;i>=0;i--)if(a=t.segments[i],o+=v(a.duration),o>0)return{mediaIndex:i,startTime:r-c(t,n,i)};return{mediaIndex:0,startTime:e}}if(n<0){for(i=n;i<0;i++)if(o-=t.targetDuration,o<0)return{mediaIndex:0,startTime:e};n=0}for(i=n;i<s;i++)if(a=t.segments[i],o-=y(a.duration),o<0)return{mediaIndex:i,startTime:r+c(t,n,i)};return{mediaIndex:s-1,startTime:e}};n.getMediaInfoForTime=_;var b=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()};n.isBlacklisted=b;var T=function(t){var e=b(t);return!t.disabled&&!e};n.isEnabled=T;var S=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1};n.isAes=S;var w=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1};n.isFmp4=w;var k=function(t,e){return e.attributes&&e.attributes[t]};n.hasAttribute=k;var O=function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!k("BANDWIDTH",n))return NaN;var i=t*n.attributes.BANDWIDTH;return(i-8*r)/e};n.estimateSegmentRequestTime=O,o.duration=d,o.seekable=p,o.getMediaInfoForTime=_,o.isEnabled=T,o.isBlacklisted=b,o.playlistEnd=h,o.isAes=S,o.isFmp4=w,o.hasAttribute=k,o.estimateSegmentRequestTime=O,n["default"]=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,s=r(a),o=1/30,u=function(t,e){var n=i(e,2),r=n[0],a=n[1];return Math.min(Math.max(r,t),a)},l=function(t,e){var n=[],r=void 0;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return s["default"].createTimeRanges(n)},f=function(t,e){return l(t,function(t,n){return t-o<=e&&n+o>=e})},d=function(t,e){return l(t,function(t){return t-o>=e})},c=function(t){if(t.length<2)return s["default"].createTimeRanges();for(var e=[],n=1;n<t.length;n++){var r=t.end(n-1),i=t.start(n);e.push([r,i])}return s["default"].createTimeRanges(e)},h=function(t,e){var n=void 0,r=void 0,i=void 0,a=[],s=[],o=function(t){return t[0]<=i&&t[1]>=i};if(t)for(n=0;n<t.length;n++)r=t.start(n),i=t.end(n),s.push([r,i]);if(e)for(n=0;n<e.length;n++)r=e.start(n),i=e.end(n),s.some(o)||a.push(i);return 1!==a.length?null:a[0]},p=function(t,e){var n=null,r=null,i=0,a=[],o=[];if(!(t&&t.length&&e&&e.length))return s["default"].createTimeRange();for(var u=t.length;u--;)a.push({time:t.start(u),type:"start"}),a.push({time:t.end(u),type:"end"});for(u=e.length;u--;)a.push({time:e.start(u),type:"start"}),a.push({time:e.end(u),type:"end"});for(a.sort(function(t,e){return t.time-e.time}),u=0;u<a.length;u++)"start"===a[u].type?(i++,2===i&&(n=a[u].time)):"end"===a[u].type&&(i--,1===i&&(r=a[u].time)),null!==n&&null!==r&&(o.push([n,r]),n=null,r=null);return s["default"].createTimeRanges(o)},g=function(t,e,n,r){for(var i=e.end(0)-e.start(0),a=t.end(0)-t.start(0),s=i-a,o=p(t,r),u=p(e,r),l=0,f=0,d=o.length;d--;)l+=o.end(d)-o.start(d),o.start(d)===n&&(l+=s);for(d=u.length;d--;)f+=u.end(d)-u.start(d);return Math.max(l,f)/i*100},m=function(t,e,n,r){var i=t+e,a=s["default"].createTimeRanges([[t,i]]),o=s["default"].createTimeRanges([[u(t,[n,i]),i]]);if(o.start(0)===o.end(0))return 0;var l=g(o,a,n,r);return isNaN(l)||l===1/0||l===-(1/0)?0:l},y=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},v=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r=t.length?t.end(t.length-1):0;return(r-e)/n};n["default"]={findRange:f,findNextRange:d,findGaps:c,findSoleUncommonTimeRangesEnd:h,getSegmentBufferedPercent:m,TIME_FUDGE_FACTOR:o,printableRange:y,timeUntilRebuffer:v},e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,a=r(i),s={errorInterval:30,getSource:function(t){var e=this.tech({IWillNotUseThisInPlugins:!0}),n=e.currentSource_;return t(n)}},o=function l(t,e){var n=0,r=0,i=a["default"].mergeOptions(s,e);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function(){r&&t.currentTime(r)},u=function(e){null!==e&&void 0!==e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},f=function(){return Date.now()-n<1e3*i.errorInterval?void t.trigger({type:"usage",name:"hls-error-reload-canceled"}):i.getSource&&"function"==typeof i.getSource?(n=Date.now(),i.getSource.call(t,u)):void a["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},d=function h(){t.off("loadedmetadata",o),t.off("error",f),t.off("dispose",h)},c=function(e){d(),l(t,e)};t.on("error",f),t.on("dispose",d),t.reloadSourceOnError=c},u=function(t){o(this,t)};n["default"]=u,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=t(11),a=function(t,e,n,r){var a=t.master.playlists[e],s=(0,i.isBlacklisted)(a),o=(0,i.isEnabled)(a);return"undefined"==typeof r?o:(r?delete a.disabled:a.disabled=!0,r===o||s||(n(),r?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),r)},s=function u(t,e,n){r(this,u);var i=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(e.attributes.RESOLUTION){var s=e.attributes.RESOLUTION;this.width=s.width,this.height=s.height}this.bandwidth=e.attributes.BANDWIDTH,this.id=n,this.enabled=a.bind(this,t.playlists,e.uri,i)},o=function(t){var e=t.playlists;t.representations=function(){return e.master.playlists.filter(function(t){return!(0,i.isBlacklisted)(t)}).map(function(e,n){return new s(t,e,e.uri)})}};n["default"]=o,e.exports=n["default"]},{}],15:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(46),a=r(i),s=t(29),o=r(s),u=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=a["default"].buildAbsoluteURL(o["default"].location.href,t)),a["default"].buildAbsoluteURL(t,e))};n["default"]=u,e.exports=n["default"]},{}],16:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},u=t(11),l=r(u),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,d=r(f),c=t(17),h=r(c),p=t(3),g=r(p),m=t(29),y=r(m),v=t(55),_=r(v),b=t(2),T=t(7),S=t(12),w=t(10),k=500,O=function(t,e,n){if(!t||!e)return!1;var r=t.segments,i=n===r.length;return t.endList&&"open"===e.readyState&&i},E=function(t){return"number"==typeof t&&isFinite(t)},A=function(t,e,n){return"main"===t&&e&&n?n.containsAudio||n.containsVideo?e.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};n.illegalMediaSwitch=A;var L=function(t){function e(t){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=t.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=t.hasPlayed,this.currentTime_=t.currentTime,this.seekable_=t.seekable,this.seeking_=t.seeking,this.duration_=t.duration,this.mediaSource_=t.mediaSource,this.hls_=t.hls,this.loaderType_=t.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=t.segmentMetadataTrack,this.goalBufferLength_=t.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=t.decrypter,this.syncController_=t.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),this.fetchAtBuffer_=!1,r.debug&&(this.logger_=d["default"].log.bind(d["default"],"segment-loader",this.loaderType_,"->"))}return a(e,t),s(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),this.state="READY",void(this.paused()||this.monitorBuffer_()))}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return"undefined"!=typeof t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():d["default"].createTimeRanges()}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var n=(0,b.initSegmentId)(t),r=this.initSegments_[n];return e&&!r&&t.bytes&&(this.initSegments_[n]=r={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes}),r||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new h["default"](this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t){var n=this.playlist_,r=this.pendingSegment_;if(this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==t.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var i=t.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",i),null!==this.mediaIndex&&(this.mediaIndex-=i),r&&(r.mediaIndex-=i,r.mediaIndex>=0&&(r.segment=t.segments[r.mediaIndex])),
    this.syncController_.saveExpiredSegmentInfo(n,t)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t){this.mimeType_||(this.mimeType_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e){this.sourceUpdater_&&this.sourceUpdater_.remove(t,e),(0,_["default"])(t,e,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y["default"].setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y["default"].setTimeout(this.monitorBufferTick_.bind(this),k)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t){var e=O(this.playlist_,this.mediaSource_,t.mediaIndex);return e?void this.endOfStream():void((t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment),this.loadSegment_(t)))}}}},{key:"checkBuffer_",value:function(t,e,n,r,i,a){var s=0,o=void 0;t.length&&(s=t.end(t.length-1));var u=Math.max(0,s-i);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!r&&u>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",r,"currentTime:",i,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",u),null===a)return n=this.getSyncSegmentCandidate_(e),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var f=e.segments[n];return o=f&&f.end?f.end:s,this.generateSegmentInfo_(e,n+1,o,!1)}if(this.fetchAtBuffer_){var d=l["default"].getMediaInfoForTime(e,s,a.segmentIndex,a.time);n=d.mediaIndex,o=d.startTime}else{var d=l["default"].getMediaInfoForTime(e,i,a.segmentIndex,a.time);n=d.mediaIndex,o=d.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",o),this.generateSegmentInfo_(e,n,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(this.currentTimeline_===-1)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,r){if(e<0||e>=t.segments.length)return null;var i=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:e,isSyncRequest:r,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,r=this.pendingSegment_.duration,i=l["default"].estimateSegmentRequestTime(r,n,this.playlist_,t.bytesReceived),a=(0,S.timeUntilRebuffer)(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(i<=a)return!1;var s=(0,w.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=i-a,u=o-s.rebufferingImpact,f=.5;return a<=S.TIME_FUDGE_FACTOR&&(f=1),!(!s.playlist||s.playlist.uri===this.playlist_.uri||u<f)&&(this.bandwidth=s.playlist.attributes.BANDWIDTH*g["default"].BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=(0,T.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=this.seekable_(),n=this.currentTime_(),r=0;r=e.length&&e.start(0)>0&&e.start(0)<n?e.start(0):n-30,r>0&&this.remove(0,r)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var r=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:e.key.resolvedUri,iv:r}}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===T.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===T.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(!this.pendingSegment_)return void(this.state="READY");var e=this.pendingSegment_,n=e.segment,r=this.syncController_.probeSegmentInfo(e);"undefined"==typeof this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var i=A(this.loaderType_,this.startingMedia_,r);return i?(this.error({message:i}),void this.trigger("error")):(this.state="APPENDING",e.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY")):(null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset")),n.map&&!function(){var e=(0,b.initSegmentId)(n.map);if(!t.activeInitSegmentId_||t.activeInitSegmentId_!==e){var r=t.initSegment(n.map);t.sourceUpdater_.appendBuffer(r.bytes,function(){t.activeInitSegmentId_=e})}}(),e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,void this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))))}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)return void this.resetEverything();n&&this.trigger("bandwidthupdate"),this.trigger("progress");var r=O(t.playlist,this.mediaSource_,t.mediaIndex+1);r&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,r=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(r-e)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,r=e.end;if(E(n)&&E(r)){(0,_["default"])(n,r,this.segmentMetadataTrack_);var i=y["default"].WebKitDataCue||y["default"].VTTCue,a={uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:r},s=JSON.stringify(a),o=new i(n,r,s);o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),e}(d["default"].EventTarget);n["default"]=L}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,o=r(s),u=function(){},l=function(){function t(e,n){var r=this;i(this,t);var a=function(){r.sourceBuffer_=e.addSourceBuffer(n),r.onUpdateendCallback_=function(){var t=r.pendingCallback_;r.pendingCallback_=null,t&&t(),r.runCallback_()},r.sourceBuffer_.addEventListener("updateend",r.onUpdateendCallback_),r.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,"closed"===e.readyState?e.addEventListener("sourceopen",a):a()}return a(t,[{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:o["default"].createTimeRanges()}},{key:"remove",value:function(t,e){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.sourceBuffer_.remove(t,e)},u)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return"undefined"!=typeof t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}();n["default"]=l,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},u=t(40),l=r(u),f=t(41),d=t(11),c="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,h=r(c),p=[{name:"VOD",run:function(t,e,n,r,i){if(n!==1/0){var a={time:0,segmentIndex:0};return a}return null}},{name:"ProgramDateTime",run:function(t,e,n,r,i){if(t.datetimeToDisplayTime&&e.dateTimeObject){var a=e.dateTimeObject.getTime()/1e3,s=a+t.datetimeToDisplayTime,o={time:s,segmentIndex:0};return o}return null}},{name:"Segment",run:function(t,e,n,r,i){var a=e.segments||[],s=null,o=null;i=i||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===r&&"undefined"!=typeof l.start){var f=Math.abs(i-l.start);if(null!==o&&o<f)break;(!s||null===o||o>=f)&&(o=f,s={time:l.start,segmentIndex:u})}}return s}},{name:"Discontinuity",run:function(t,e,n,r,i){var a=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var s=null,o=0;o<e.discontinuityStarts.length;o++){var u=e.discontinuityStarts[o],l=e.discontinuitySequence+o+1,f=t.discontinuities[l];if(f){var d=Math.abs(i-f.time);if(null!==s&&s<d)break;(!a||null===s||s>=d)&&(s=d,a={time:f.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(t,e,n,r,i){if(e.syncInfo){var a={time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence};return a}return null}}];n.syncPointStrategies=p;var g=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,t.debug&&(this.logger_=h["default"].log.bind(h["default"],"sync-controller ->"))}return a(e,t),s(e,[{key:"getSyncPoint",value:function(t,e,n,r){var i=this.runStrategies_(t,e,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+(0,d.sumDurations)(t,r.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,r){for(var i=[],a=0;a<p.length;a++){var s=p[a],o=s.run(this,t,e,n,r);o&&(o.strategy=s.name,i.push({strategy:s.name,syncPoint:o}),this.logger_("syncPoint found via <"+s.name+">:",o))}return i}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,r=Math.abs(t[0].syncPoint[e.key]-e.value),i=t[0].strategy,a=1;a<t.length;a++){var s=Math.abs(t[a].syncPoint[e.key]-e.value);s<r&&(r=s,n=t[a].syncPoint,i=t[a].strategy)}return this.logger_("syncPoint with strategy <"+i+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence,r=n-1;r>=0;r--){var i=t.segments[r];if(i&&"undefined"!=typeof i.start){e.syncInfo={mediaSequence:t.mediaSequence+r,time:i.start},this.logger_("playlist sync:",e.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.dateTimeObject){var e=t.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,r=void 0;return r=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t),r&&this.calculateSegmentTimeMapping_(t,r)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),r}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=l["default"].timescale(e.map.bytes),r=l["default"].startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=r),{start:r,end:r+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=(0,f.inspect)(t.bytes,this.inspectCache_),n=void 0,r=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,r=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,r=e.audio[1].dtsTime),{start:n,end:r,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return"undefined"==typeof this.timelines[t]?null:this.timelines[t].time}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,r=this.timelines[t.timeline];if(null!==t.timestampOffset)this.logger_("tsO:",t.timestampOffset),r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=r,this.trigger("timestampoffset"),n.start=t.startOfSegment,n.end=e.end+r.mapping;else{if(!r)return!1;n.start=e.start+r.mapping,n.end=e.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts.length)for(var r=0;r<e.discontinuityStarts.length;r++){var i=e.discontinuityStarts[r],a=e.discontinuitySequence+r+1,s=i-t.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){var u=void 0;u=s<0?n.start-(0,d.sumDurations)(e,t.mediaIndex,i):n.end+(0,d.sumDurations)(e,t.mediaIndex+1,i),this.discontinuities[a]={time:u,accuracy:o}}}}},{key:"logger_",value:function(){}}]),e}(h["default"].EventTarget);n["default"]=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e={codecCount:0},n=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t),n&&(e.videoCodec=n[2],e.videoObjectTypeIndicator=n[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e};n.parseCodecs=r},{}],20:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},l=t(16),f=i(l),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof r?r.videojs:null,c=i(d),h=t(29),p=i(h),g=t(55),m=i(g),y=t(2),v=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),_=function(t){return String.fromCharCode.apply(null,t)},b=function(t){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this.mediaSource_=null,this.subtitlesTrack_=null}return s(e,t),o(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return c["default"].createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return c["default"].createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var n=(0,y.initSegmentId)(t),r=this.initSegments_[n];if(e&&!r&&t.bytes){var i=v.byteLength+t.bytes.byteLength,a=new Uint8Array(i);a.set(t.bytes),a.set(v,t.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return r||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return"undefined"==typeof t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){(0,m["default"])(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){var n=function(){t.state="READY",t.paused()||t.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var e=this.pendingSegment_,n=e.segment;if("function"!=typeof p["default"].WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){var e=function(){t.handleSegment_()};return t.state="WAITING_ON_VTTJS",t.subtitlesTrack_.tech_.one("vttjsloaded",e),t.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")}),{v:void 0}}();if("object"==typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(e)}catch(i){return this.error({message:i.message}),this.state="READY",this.pause(),this.trigger("error")}return this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY")):(e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),void this.handleUpdateEnd_())}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1;"function"==typeof p["default"].TextDecoder?e=new p["default"].TextDecoder("utf8"):(e=p["default"].WebVTT.StringDecoder(),n=!0);var r=new p["default"].WebVTT.Parser(p["default"],p["default"].vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=t.cues.push.bind(t.cues),r.ontimestampmap=function(e){return t.timestampmap=e},r.onparsingerror=function(t){c["default"].log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var i=t.segment.map.bytes;n&&(i=_(i)),r.parse(i)}var a=t.bytes;n&&(a=_(a)),r.parse(a),r.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var r=t.segment;if(e){if(!t.cues.length)return void(r.empty=!0);var i=t.timestampmap,a=i.MPEGTS/9e4-i.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=a,t.endTime+=a}),!n.syncInfo){var s=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(s,o-r.duration)}}}}}]),e}(f["default"]);n["default"]=b,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t.match(/:\/\/(www[0-9]?\.)?(.[^\/:]+)/i);return null!=e&&e.length>2&&"string"==typeof e[2]&&e[2].length>0?e[2]:null}function a(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}Object.defineProperty(n,"__esModule",{value:!0});var s="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,o=r(s),u=null,l=function(){var t=function e(t,n){t=(0,s.mergeOptions)({timeout:45e3},t),null==u&&(u=a("signKey",t.uri));var r=i(t.uri);"rm.vtvlive.vn"==r&&(t.uri=t.uri+"?signKey="+u);var l=e.beforeRequest||o["default"].Hls.xhr.beforeRequest;if(l&&"function"==typeof l){var f=l(t);f&&(t=f)}var d=(0,s.xhr)(t,function(t,e){var r=d.response;!t&&r&&(d.responseTime=Date.now(),d.roundTripTime=d.responseTime-d.requestTime,d.bytesReceived=r.byteLength||r.length,d.bandwidth||(d.bandwidth=Math.floor(d.bytesReceived/d.roundTripTime*8*1e3))),t&&"ETIMEDOUT"===t.code&&(d.timedout=!0),t||d.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(d&&(r||d.responseText)))),n(t,d)}),c=d.abort;return d.abort=function(){return d.aborted=!0,c.apply(d,arguments)},d.uri=t.uri,d.requestTime=Date.now(),d};return t};n["default"]=l,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],r=e[4],i=n[4],a=void 0,s=void 0,o=void 0,u=[],l=[],f=void 0,d=void 0,c=void 0,h=void 0,p=void 0,g=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!r[s];s^=f||1,o=l[o]||1)for(h=o^o<<1^o<<2^o<<3^o<<4,h=h>>8^255&h^99,r[s]=h,i[h]=s,c=u[d=u[f=u[s]]],g=16843009*c^65537*d^257*f^16843008*s,p=257*u[h]^16843008*h,a=0;a<4;a++)e[a][s]=p=p<<24^p>>>8,n[a][h]=g=g<<24^g>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t},s=null,o=function(){function t(e){r(this,t),s||(s=a()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var n=void 0,i=void 0,o=void 0,u=void 0,l=void 0,f=this._tables[0][4],d=this._tables[1],c=e.length,h=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size");for(u=e.slice(0),l=[],this._key=[u,l],n=c;n<4*c+28;n++)o=u[n-1],(n%c===0||8===c&&n%c===4)&&(o=f[o>>>24]<<24^f[o>>16&255]<<16^f[o>>8&255]<<8^f[255&o],n%c===0&&(o=o<<8^o>>>24^h<<24,h=h<<1^283*(h>>7))),u[n]=u[n-c]^o;for(i=0;n;i++,n--)o=u[3&i?n:n-4],n<=4||i<4?l[i]=o:l[i]=d[0][f[o>>>24]]^d[1][f[o>>16&255]]^d[2][f[o>>8&255]]^d[3][f[255&o]]}return i(t,[{key:"decrypt",value:function(t,e,n,r,i,a){var s=this._key[1],o=t^s[0],u=r^s[1],l=n^s[2],f=e^s[3],d=void 0,c=void 0,h=void 0,p=s.length/4-2,g=void 0,m=4,y=this._tables[1],v=y[0],_=y[1],b=y[2],T=y[3],S=y[4];for(g=0;g<p;g++)d=v[o>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&f]^s[m],c=v[u>>>24]^_[l>>16&255]^b[f>>8&255]^T[255&o]^s[m+1],h=v[l>>>24]^_[f>>16&255]^b[o>>8&255]^T[255&u]^s[m+2],f=v[f>>>24]^_[o>>16&255]^b[u>>8&255]^T[255&l]^s[m+3],m+=4,o=d,u=c,l=h;for(g=0;g<4;g++)i[(3&-g)+a]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&f]^s[m++],d=o,o=u,u=l,l=f,f=d}}]),t}();n["default"]=o,e.exports=n["default"]},{}],23:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},u=t(26),l=r(u),f=function(t){function e(){i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,l["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return a(e,t),s(e,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),e}(l["default"]);n["default"]=f,e.exports=n["default"]},{}],24:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t(22),o=r(s),u=t(23),l=r(u),f=t(44),d=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},c=function(t,e,n){var r=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),i=new o["default"](Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),s=new Int32Array(a.buffer),u=void 0,l=void 0,f=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0;for(u=n[0],l=n[1],f=n[2],c=n[3],y=0;y<r.length;y+=4)h=d(r[y]),p=d(r[y+1]),g=d(r[y+2]),m=d(r[y+3]),i.decrypt(h,p,g,m,s,y),s[y]=d(s[y]^u),s[y+1]=d(s[y+1]^l),s[y+2]=d(s[y+2]^f),s[y+3]=d(s[y+3]^c),u=h,l=p,f=g,c=m;return a};n.decrypt=c;var h=function(){function t(e,n,r,a){i(this,t);var s=t.STEP,o=new Int32Array(e.buffer),u=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new l["default"],this.asyncStream_.push(this.decryptChunk_(o.subarray(c,c+s),n,r,u)),c=s;c<o.length;c+=s)r=new Uint32Array([d(o[c-4]),d(o[c-3]),d(o[c-2]),d(o[c-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(c,c+s),n,r,u));this.asyncStream_.push(function(){a(null,(0,f.unpad)(u))})}return a(t,[{
    key:"decryptChunk_",value:function(t,e,n,r){return function(){var i=c(t,e,n);r.set(i,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),t}();n.Decrypter=h,n["default"]={Decrypter:h,decrypt:c}},{}],25:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(24),a=t(23),s=r(a);n["default"]={decrypt:i.decrypt,Decrypter:i.Decrypter,AsyncStream:s["default"]},e.exports=n["default"]},{}],26:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t),this.listeners={}}return i(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){var n=void 0;return!!this.listeners[t]&&(n=this.listeners[t].indexOf(e),this.listeners[t].splice(n,1),n>-1)}},{key:"trigger",value:function(t){var e=void 0,n=void 0,r=void 0,i=void 0;if(e=this.listeners[t])if(2===arguments.length)for(r=e.length,n=0;n<r;++n)e[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=e.length,n=0;n<r;++n)e[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),t}();n["default"]=a,e.exports=n["default"]},{}],27:[function(t,e,n){},{}],28:[function(t,e,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=t(27);if("undefined"!=typeof document)e.exports=document;else{var a=r["__GLOBAL_DOCUMENT_CACHE@4"];a||(a=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e,n){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function a(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var s=t[i];e(r,s,n(s),t)}return r}function o(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function u(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}function d(t,e){var n=null==t?0:t.length;return!!n&&S(t,e,0)>-1}function c(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function y(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function v(t){return t.split("")}function _(t){return t.match(qe)||[]}function b(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function T(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function S(t,e,n){return e===e?$(t,e,n):T(t,k,n)}function w(t,e,n,r){for(var i=n-1,a=t.length;++i<a;)if(r(t[i],e))return i;return-1}function k(t){return t!==t}function O(t,e){var n=null==t?0:t.length;return n?I(t,e)/n:Rt}function E(t){return function(e){return null==e?nt:e[t]}}function A(t){return function(e){return null==t?nt:t[e]}}function L(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function P(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function I(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==nt&&(n=n===nt?a:n+a)}return n}function C(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function x(t,e){return h(e,function(e){return[e,t[e]]})}function U(t){return function(e){return t(e)}}function M(t,e){return h(e,function(e){return t[e]})}function R(t,e){return t.has(e)}function D(t,e){for(var n=-1,r=t.length;++n<r&&S(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length;n--&&S(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function N(t){return"\\"+tr[t]}function F(t,e){return null==t?nt:t[e]}function q(t){return Vn.test(t)}function G(t){return zn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function V(t,e){return function(n){return t(e(n))}}function z(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var s=t[n];s!==e&&s!==lt||(t[n]=lt,a[i++]=n)}return a}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function $(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function K(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Z(t){return q(t)?J(t):yr(t)}function Q(t){return q(t)?tt(t):v(t)}function J(t){for(var e=Wn.lastIndex=0;Wn.test(t);)++e;return e}function tt(t){return t.match(Wn)||[]}function et(t){return t.match(Hn)||[]}var nt,rt="4.17.4",it=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",ot="__lodash_hash_undefined__",ut=500,lt="__lodash_placeholder__",ft=1,dt=2,ct=4,ht=1,pt=2,gt=1,mt=2,yt=4,vt=8,_t=16,bt=32,Tt=64,St=128,wt=256,kt=512,Ot=30,Et="...",At=800,Lt=16,Pt=1,It=2,Ct=3,xt=1/0,Ut=9007199254740991,Mt=1.7976931348623157e308,Rt=NaN,Dt=4294967295,Bt=Dt-1,jt=Dt>>>1,Nt=[["ary",St],["bind",gt],["bindKey",mt],["curry",vt],["curryRight",_t],["flip",kt],["partial",bt],["partialRight",Tt],["rearg",wt]],Ft="[object Arguments]",qt="[object Array]",Gt="[object AsyncFunction]",Wt="[object Boolean]",Ht="[object Date]",Vt="[object DOMException]",zt="[object Error]",Yt="[object Function]",Xt="[object GeneratorFunction]",$t="[object Map]",Kt="[object Number]",Zt="[object Null]",Qt="[object Object]",Jt="[object Promise]",te="[object Proxy]",ee="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",ae="[object Undefined]",se="[object WeakMap]",oe="[object WeakSet]",ue="[object ArrayBuffer]",le="[object DataView]",fe="[object Float32Array]",de="[object Float64Array]",ce="[object Int8Array]",he="[object Int16Array]",pe="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",ye="[object Uint16Array]",ve="[object Uint32Array]",_e=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,Te=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Se=/&(?:amp|lt|gt|quot|#39);/g,we=/[&<>"']/g,ke=RegExp(Se.source),Oe=RegExp(we.source),Ee=/<%-([\s\S]+?)%>/g,Ae=/<%([\s\S]+?)%>/g,Le=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Ce=/^\./,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(Ue.source),Re=/^\s+|\s+$/g,De=/^\s+/,Be=/\s+$/,je=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,He=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,Xe=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",tn="\\u0300-\\u036f",en="\\ufe20-\\ufe2f",nn="\\u20d0-\\u20ff",rn=tn+en+nn,an="\\u2700-\\u27bf",sn="a-z\\xdf-\\xf6\\xf8-\\xff",on="\\xac\\xb1\\xd7\\xf7",un="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",fn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dn="A-Z\\xc0-\\xd6\\xd8-\\xde",cn="\\ufe0e\\ufe0f",hn=on+un+ln+fn,pn="['’]",gn="["+Je+"]",mn="["+hn+"]",yn="["+rn+"]",vn="\\d+",_n="["+an+"]",bn="["+sn+"]",Tn="[^"+Je+hn+vn+an+sn+dn+"]",Sn="\\ud83c[\\udffb-\\udfff]",wn="(?:"+yn+"|"+Sn+")",kn="[^"+Je+"]",On="(?:\\ud83c[\\udde6-\\uddff]){2}",En="[\\ud800-\\udbff][\\udc00-\\udfff]",An="["+dn+"]",Ln="\\u200d",Pn="(?:"+bn+"|"+Tn+")",In="(?:"+An+"|"+Tn+")",Cn="(?:"+pn+"(?:d|ll|m|re|s|t|ve))?",xn="(?:"+pn+"(?:D|LL|M|RE|S|T|VE))?",Un=wn+"?",Mn="["+cn+"]?",Rn="(?:"+Ln+"(?:"+[kn,On,En].join("|")+")"+Mn+Un+")*",Dn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Bn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",jn=Mn+Un+Rn,Nn="(?:"+[_n,On,En].join("|")+")"+jn,Fn="(?:"+[kn+yn+"?",yn,On,En,gn].join("|")+")",qn=RegExp(pn,"g"),Gn=RegExp(yn,"g"),Wn=RegExp(Sn+"(?="+Sn+")|"+Fn+jn,"g"),Hn=RegExp([An+"?"+bn+"+"+Cn+"(?="+[mn,An,"$"].join("|")+")",In+"+"+xn+"(?="+[mn,An+Pn,"$"].join("|")+")",An+"?"+Pn+"+"+Cn,An+"+"+xn,Bn,Dn,vn,Nn].join("|"),"g"),Vn=RegExp("["+Ln+Je+rn+cn+"]"),zn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xn=-1,$n={};$n[fe]=$n[de]=$n[ce]=$n[he]=$n[pe]=$n[ge]=$n[me]=$n[ye]=$n[ve]=!0,$n[Ft]=$n[qt]=$n[ue]=$n[Wt]=$n[le]=$n[Ht]=$n[zt]=$n[Yt]=$n[$t]=$n[Kt]=$n[Qt]=$n[ee]=$n[ne]=$n[re]=$n[se]=!1;var Kn={};Kn[Ft]=Kn[qt]=Kn[ue]=Kn[le]=Kn[Wt]=Kn[Ht]=Kn[fe]=Kn[de]=Kn[ce]=Kn[he]=Kn[pe]=Kn[$t]=Kn[Kt]=Kn[Qt]=Kn[ee]=Kn[ne]=Kn[re]=Kn[ie]=Kn[ge]=Kn[me]=Kn[ye]=Kn[ve]=!0,Kn[zt]=Kn[Yt]=Kn[se]=!1;var Zn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},er=parseFloat,nr=parseInt,rr="object"==typeof t&&t&&t.Object===Object&&t,ir="object"==typeof self&&self&&self.Object===Object&&self,ar=rr||ir||Function("return this")(),sr="object"==typeof n&&n&&!n.nodeType&&n,or=sr&&"object"==typeof e&&e&&!e.nodeType&&e,ur=or&&or.exports===sr,lr=ur&&rr.process,fr=function(){try{return lr&&lr.binding&&lr.binding("util")}catch(t){}}(),dr=fr&&fr.isArrayBuffer,cr=fr&&fr.isDate,hr=fr&&fr.isMap,pr=fr&&fr.isRegExp,gr=fr&&fr.isSet,mr=fr&&fr.isTypedArray,yr=E("length"),vr=A(Zn),_r=A(Qn),br=A(Jn),Tr=function wr(t){function e(t){if(lu(t)&&!Tc(t)&&!(t instanceof A)){if(t instanceof v)return t;if(Tf.call(t,"__wrapped__"))return as(t)}return new v(t)}function n(){}function v(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function A(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function $(){var t=new A(this.__wrapped__);return t.__actions__=Fi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fi(this.__views__),t}function J(){if(this.__filtered__){var t=new A(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Tc(t),r=e<0,i=n?t.length:0,a=Pa(0,i,this.__views__),s=a.start,o=a.end,u=o-s,l=r?o:s-1,f=this.__iteratees__,d=f.length,c=0,h=Zf(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return Ti(t,this.__actions__);var p=[];t:for(;u--&&c<h;){l+=e;for(var g=-1,m=t[l];++g<d;){var y=f[g],v=y.iteratee,_=y.type,b=v(m);if(_==It)m=b;else if(!b){if(_==Pt)continue t;break t}}p[c++]=m}return p}function qe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Je(){this.__data__=od?od(null):{},this.size=0}function tn(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function en(t){var e=this.__data__;if(od){var n=e[t];return n===ot?nt:n}return Tf.call(e,t)?e[t]:nt}function nn(t){var e=this.__data__;return od?e[t]!==nt:Tf.call(e,t)}function rn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=od&&e===nt?ot:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function sn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=xn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Rf.call(e,n,1),--this.size,!0}function un(t){var e=this.__data__,n=xn(e,t);return n<0?nt:e[n][1]}function ln(t){return xn(this.__data__,t)>-1}function fn(t,e){var n=this.__data__,r=xn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new qe,map:new(rd||an),string:new qe}}function hn(t){var e=Oa(this,t)["delete"](t);return this.size-=e?1:0,e}function pn(t){return Oa(this,t).get(t)}function gn(t){return Oa(this,t).has(t)}function mn(t,e){var n=Oa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new dn;++e<n;)this.add(t[e])}function vn(t){return this.__data__.set(t,ot),this}function _n(t){return this.__data__.has(t)}function bn(t){var e=this.__data__=new an(t);this.size=e.size}function Tn(){this.__data__=new an,this.size=0}function Sn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function wn(t){return this.__data__.get(t)}function kn(t){return this.__data__.has(t)}function On(t,e){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!rd||r.length<it-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new dn(r)}return n.set(t,e),this.size=n.size,this}function En(t,e){var n=Tc(t),r=!n&&bc(t),i=!n&&!r&&wc(t),a=!n&&!r&&!i&&Lc(t),s=n||r||i||a,o=s?C(t.length,pf):[],u=o.length;for(var l in t)!e&&!Tf.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ba(l,u))||o.push(l);return o}function An(t){var e=t.length;return e?t[ni(0,e-1)]:nt}function Ln(t,e){return es(Fi(t),jn(e,0,t.length))}function Pn(t){return es(Fi(t))}function In(t,e,n){(n===nt||$o(t[e],n))&&(n!==nt||e in t)||Dn(t,e,n)}function Cn(t,e,n){var r=t[e];Tf.call(t,e)&&$o(r,n)&&(n!==nt||e in t)||Dn(t,e,n)}function xn(t,e){for(var n=t.length;n--;)if($o(t[n][0],e))return n;return-1}function Un(t,e,n,r){return _d(t,function(t,i,a){e(r,t,n(t),a)}),r}function Mn(t,e){return t&&qi(e,Hu(e),t)}function Rn(t,e){return t&&qi(e,Vu(e),t)}function Dn(t,e,n){"__proto__"==e&&Nf?Nf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Bn(t,e){for(var n=-1,r=e.length,i=of(r),a=null==t;++n<r;)i[n]=a?nt:qu(t,e[n]);return i}function jn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function Nn(t,e,n,r,i,a){var s,u=e&ft,l=e&dt,f=e&ct;if(n&&(s=i?n(t,r,i,a):n(t)),s!==nt)return s;if(!uu(t))return t;var d=Tc(t);if(d){if(s=xa(t),!u)return Fi(t,s)}else{var c=Cd(t),h=c==Yt||c==Xt;if(wc(t))return Li(t,u);if(c==Qt||c==Ft||h&&!i){if(s=l||h?{}:Ua(t),!u)return l?Wi(t,Rn(s,t)):Gi(t,Mn(s,t))}else{if(!Kn[c])return i?t:{};s=Ma(t,c,Nn,u)}}a||(a=new bn);var p=a.get(t);if(p)return p;a.set(t,s);var g=f?l?Ta:ba:l?Vu:Hu,m=d?nt:g(t);return o(m||t,function(r,i){m&&(i=r,r=t[i]),Cn(s,i,Nn(r,e,n,i,t,a))}),s}function Fn(t){var e=Hu(t);return function(n){return Wn(n,t,e)}}function Wn(t,e,n){var r=n.length;if(null==t)return!r;for(t=cf(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===nt&&!(i in t)||!a(s))return!1}return!0}function Hn(t,e,n){if("function"!=typeof t)throw new gf(st);return Md(function(){t.apply(nt,n)},e)}function Vn(t,e,n,r){var i=-1,a=d,s=!0,o=t.length,u=[],l=e.length;if(!o)return u;n&&(e=h(e,U(n))),r?(a=c,s=!1):e.length>=it&&(a=R,s=!1,e=new yn(e));t:for(;++i<o;){var f=t[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,s&&p===p){for(var g=l;g--;)if(e[g]===p)continue t;u.push(f)}else a(e,p,r)||u.push(f)}return u}function zn(t,e){var n=!0;return _d(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Zn(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(o===nt?s===s&&!bu(s):n(s,o)))var o=s,u=a}return u}function Qn(t,e,n,r){var i=t.length;for(n=Eu(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:Eu(r),r<0&&(r+=i),r=n>r?0:Au(r);n<r;)t[n++]=e;return t}function Jn(t,e){var n=[];return _d(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function tr(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Da),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?tr(o,e-1,n,r,i):p(i,o):r||(i[i.length]=o)}return i}function rr(t,e){return t&&Td(t,e,Hu)}function ir(t,e){return t&&Sd(t,e,Hu)}function sr(t,e){return f(e,function(e){return au(t[e])})}function or(t,e){e=Ei(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[ns(e[n++])];return n&&n==r?t:nt}function lr(t,e,n){var r=e(t);return Tc(t)?r:p(r,n(t))}function fr(t){return null==t?t===nt?ae:Zt:jf&&jf in cf(t)?La(t):$a(t)}function yr(t,e){return t>e}function Tr(t,e){return null!=t&&Tf.call(t,e)}function kr(t,e){return null!=t&&e in cf(t)}function Or(t,e,n){return t>=Zf(e,n)&&t<Kf(e,n)}function Er(t,e,n){for(var r=n?c:d,i=t[0].length,a=t.length,s=a,o=of(a),u=1/0,l=[];s--;){var f=t[s];s&&e&&(f=h(f,U(e))),u=Zf(f.length,u),o[s]=!n&&(e||i>=120&&f.length>=120)?new yn(s&&f):nt}f=t[0];var p=-1,g=o[0];t:for(;++p<i&&l.length<u;){var m=f[p],y=e?e(m):m;if(m=n||0!==m?m:0,!(g?R(g,y):r(l,y,n))){for(s=a;--s;){var v=o[s];if(!(v?R(v,y):r(t[s],y,n)))continue t}g&&g.push(y),l.push(m)}}return l}function Ar(t,e,n,r){return rr(t,function(t,i,a){e(r,n(t),i,a)}),r}function Lr(t,e,n){e=Ei(e,t),t=Za(t,e);var r=null==t?t:t[ns(ks(e))];return null==r?nt:a(r,t,n)}function Pr(t){return lu(t)&&fr(t)==Ft}function Ir(t){return lu(t)&&fr(t)==ue}function Cr(t){return lu(t)&&fr(t)==Ht}function xr(t,e,n,r,i){return t===e||(null==t||null==e||!lu(t)&&!lu(e)?t!==t&&e!==e:Ur(t,e,n,r,xr,i))}function Ur(t,e,n,r,i,a){var s=Tc(t),o=Tc(e),u=s?qt:Cd(t),l=o?qt:Cd(e);u=u==Ft?Qt:u,l=l==Ft?Qt:l;var f=u==Qt,d=l==Qt,c=u==l;if(c&&wc(t)){if(!wc(e))return!1;s=!0,f=!1}if(c&&!f)return a||(a=new bn),s||Lc(t)?ma(t,e,n,r,i,a):ya(t,e,u,n,r,i,a);if(!(n&ht)){var h=f&&Tf.call(t,"__wrapped__"),p=d&&Tf.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,m=p?e.value():e;return a||(a=new bn),i(g,m,n,r,a)}}return!!c&&(a||(a=new bn),va(t,e,n,r,i,a))}function Mr(t){return lu(t)&&Cd(t)==$t}function Rr(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=cf(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var u=o[0],l=t[u],f=o[1];if(s&&o[2]){if(l===nt&&!(u in t))return!1}else{var d=new bn;if(r)var c=r(l,f,u,t,e,d);if(!(c===nt?xr(f,l,ht|pt,r,d):c))return!1}}return!0}function Dr(t){if(!uu(t)||Ga(t))return!1;var e=au(t)?Af:Ye;return e.test(rs(t))}function Br(t){return lu(t)&&fr(t)==ee}function jr(t){return lu(t)&&Cd(t)==ne}function Nr(t){return lu(t)&&ou(t.length)&&!!$n[fr(t)]}function Fr(t){return"function"==typeof t?t:null==t?Ml:"object"==typeof t?Tc(t)?zr(t[0],t[1]):Vr(t):Gl(t)}function qr(t){if(!Wa(t))return $f(t);var e=[];for(var n in cf(t))Tf.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Gr(t){if(!uu(t))return Xa(t);var e=Wa(t),n=[];for(var r in t)("constructor"!=r||!e&&Tf.call(t,r))&&n.push(r);return n}function Wr(t,e){return t<e}function Hr(t,e){var n=-1,r=Ko(t)?of(t.length):[];return _d(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function Vr(t){var e=Ea(t);return 1==e.length&&e[0][2]?Va(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function zr(t,e){return Na(t)&&Ha(e)?Va(ns(t),e):function(n){var r=qu(n,t);return r===nt&&r===e?Wu(n,t):xr(e,r,ht|pt)}}function Yr(t,e,n,r,i){t!==e&&Td(e,function(a,s){if(uu(a))i||(i=new bn),Xr(t,e,s,n,Yr,r,i);else{var o=r?r(t[s],a,s+"",t,e,i):nt;o===nt&&(o=a),In(t,s,o)}},Vu)}function Xr(t,e,n,r,i,a,s){var o=t[n],u=e[n],l=s.get(u);if(l)return void In(t,n,l);var f=a?a(o,u,n+"",t,e,s):nt,d=f===nt;if(d){var c=Tc(u),h=!c&&wc(u),p=!c&&!h&&Lc(u);f=u,c||h||p?Tc(o)?f=o:Zo(o)?f=Fi(o):h?(d=!1,f=Li(u,!0)):p?(d=!1,f=Ri(u,!0)):f=[]:yu(u)||bc(u)?(f=o,bc(o)?f=Pu(o):(!uu(o)||r&&au(o))&&(f=Ua(u))):d=!1}d&&(s.set(u,f),i(f,u,r,a,s),s["delete"](u)),In(t,n,f)}function $r(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ba(e,n)?t[e]:nt}function Kr(t,e,n){var r=-1;e=h(e.length?e:[Ml],U(ka()));var i=Hr(t,function(t,n,i){var a=h(e,function(e){return e(t)});return{criteria:a,index:++r,value:t}});return P(i,function(t,e){return Bi(t,e,n)})}function Zr(t,e){return Qr(t,e,function(e,n){return Wu(t,n)})}function Qr(t,e,n){for(var r=-1,i=e.length,a={};++r<i;){var s=e[r],o=or(t,s);n(o,s)&&ui(a,Ei(s,t),o)}return a}function Jr(t){return function(e){return or(e,t)}}function ti(t,e,n,r){var i=r?w:S,a=-1,s=e.length,o=t;for(t===e&&(e=Fi(e)),n&&(o=h(t,U(n)));++a<s;)for(var u=0,l=e[a],f=n?n(l):l;(u=i(o,f,u,r))>-1;)o!==t&&Rf.call(o,u,1),Rf.call(t,u,1);return t}function ei(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==a){var a=i;Ba(i)?Rf.call(t,i,1):vi(t,i)}}return t}function ni(t,e){return t+Hf(td()*(e-t+1))}function ri(t,e,n,r){for(var i=-1,a=Kf(Wf((e-t)/(n||1)),0),s=of(a);a--;)s[r?a:++i]=t,t+=n;return s}function ii(t,e){var n="";if(!t||e<1||e>Ut)return n;do e%2&&(n+=t),e=Hf(e/2),e&&(t+=t);while(e);return n}function ai(t,e){return Rd(Ka(t,e,Ml),t+"")}function si(t){return An(rl(t))}function oi(t,e){var n=rl(t);return es(n,jn(e,0,n.length))}function ui(t,e,n,r){if(!uu(t))return t;e=Ei(e,t);for(var i=-1,a=e.length,s=a-1,o=t;null!=o&&++i<a;){var u=ns(e[i]),l=n;if(i!=s){var f=o[u];l=r?r(f,u,o):nt,l===nt&&(l=uu(f)?f:Ba(e[i+1])?[]:{})}Cn(o,u,l),o=o[u]}return t}function li(t){return es(rl(t))}function fi(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=of(i);++r<i;)a[r]=t[r+e];return a}function di(t,e){var n;return _d(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function ci(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=jt){for(;r<i;){var a=r+i>>>1,s=t[a];null!==s&&!bu(s)&&(n?s<=e:s<e)?r=a+1:i=a}return i}return hi(t,e,Ml,n)}function hi(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,s=e!==e,o=null===e,u=bu(e),l=e===nt;i<a;){var f=Hf((i+a)/2),d=n(t[f]),c=d!==nt,h=null===d,p=d===d,g=bu(d);if(s)var m=r||p;else m=l?p&&(r||c):o?p&&c&&(r||!h):u?p&&c&&!h&&(r||!g):!h&&!g&&(r?d<=e:d<e);m?i=f+1:a=f}return Zf(a,Bt)}function pi(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var s=t[n],o=e?e(s):s;if(!n||!$o(o,u)){var u=o;a[i++]=0===s?0:s}}return a}function gi(t){return"number"==typeof t?t:bu(t)?Rt:+t}function mi(t){if("string"==typeof t)return t;if(Tc(t))return h(t,mi)+"";if(bu(t))return yd?yd.call(t):"";var e=t+"";return"0"==e&&1/t==-xt?"-0":e}function yi(t,e,n){var r=-1,i=d,a=t.length,s=!0,o=[],u=o;if(n)s=!1,i=c;else if(a>=it){var l=e?null:Ad(t);if(l)return Y(l);s=!1,i=R,u=new yn}else u=e?[]:o;t:for(;++r<a;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,s&&h===h){for(var p=u.length;p--;)if(u[p]===h)continue t;e&&u.push(h),o.push(f)}else i(u,h,n)||(u!==o&&u.push(h),o.push(f))}return o}function vi(t,e){return e=Ei(e,t),t=Za(t,e),null==t||delete t[ns(ks(e))]}function _i(t,e,n,r){return ui(t,e,n(or(t,e)),r)}function bi(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?fi(t,r?0:a,r?a+1:i):fi(t,r?a+1:0,r?i:a)}function Ti(t,e){var n=t;return n instanceof A&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function Si(t,e,n){var r=t.length;if(r<2)return r?yi(t[0]):[];for(var i=-1,a=of(r);++i<r;)for(var s=t[i],o=-1;++o<r;)o!=i&&(a[i]=Vn(a[i]||s,t[o],e,n));return yi(tr(a,1),e,n)}function wi(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var o=r<a?e[r]:nt;n(s,t[r],o)}return s}function ki(t){return Zo(t)?t:[]}function Oi(t){return"function"==typeof t?t:Ml}function Ei(t,e){return Tc(t)?t:Na(t,e)?[t]:Dd(Cu(t))}function Ai(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:fi(t,e,n)}function Li(t,e){if(e)return t.slice();var n=t.length,r=Cf?Cf(n):new t.constructor(n);return t.copy(r),r}function Pi(t){var e=new t.constructor(t.byteLength);return new If(e).set(new If(t)),e}function Ii(t,e){var n=e?Pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ci(t,e,n){var i=e?n(H(t),ft):H(t);return g(i,r,new t.constructor)}function xi(t){var e=new t.constructor(t.source,He.exec(t));return e.lastIndex=t.lastIndex,e}function Ui(t,e,n){var r=e?n(Y(t),ft):Y(t);return g(r,i,new t.constructor)}function Mi(t){return md?cf(md.call(t)):{}}function Ri(t,e){var n=e?Pi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Di(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,a=bu(t),s=e!==nt,o=null===e,u=e===e,l=bu(e);if(!o&&!l&&!a&&t>e||a&&s&&u&&!o&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!u)return-1}return 0}function Bi(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var u=Di(i[r],a[r]);if(u){if(r>=o)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}function ji(t,e,n,r){for(var i=-1,a=t.length,s=n.length,o=-1,u=e.length,l=Kf(a-s,0),f=of(u+l),d=!r;++o<u;)f[o]=e[o];for(;++i<s;)(d||i<a)&&(f[n[i]]=t[i]);for(;l--;)f[o++]=t[i++];return f}function Ni(t,e,n,r){for(var i=-1,a=t.length,s=-1,o=n.length,u=-1,l=e.length,f=Kf(a-o,0),d=of(f+l),c=!r;++i<f;)d[i]=t[i];for(var h=i;++u<l;)d[h+u]=e[u];for(;++s<o;)(c||i<a)&&(d[h+n[s]]=t[i++]);return d}function Fi(t,e){var n=-1,r=t.length;for(e||(e=of(r));++n<r;)e[n]=t[n];return e}function qi(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var o=e[a],u=r?r(n[o],t[o],o,n,t):nt;u===nt&&(u=t[o]),i?Dn(n,o,u):Cn(n,o,u)}return n}function Gi(t,e){return qi(t,Pd(t),e)}function Wi(t,e){return qi(t,Id(t),e)}function Hi(t,e){return function(n,r){var i=Tc(n)?s:Un,a=e?e():{};return i(n,t,ka(r,2),a)}}function Vi(t){return ai(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:nt,s=i>2?n[2]:nt;for(a=t.length>3&&"function"==typeof a?(i--,a):nt,s&&ja(n[0],n[1],s)&&(a=i<3?nt:a,i=1),e=cf(e);++r<i;){var o=n[r];o&&t(e,o,r,a)}return e})}function zi(t,e){return function(n,r){if(null==n)return n;if(!Ko(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=cf(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}function Yi(t){return function(e,n,r){for(var i=-1,a=cf(e),s=r(e),o=s.length;o--;){var u=s[t?o:++i];if(n(a[u],u,a)===!1)break}return e}}function Xi(t,e,n){function r(){var e=this&&this!==ar&&this instanceof r?a:t;return e.apply(i?n:this,arguments)}var i=e&gt,a=Zi(t);return r}function $i(t){return function(e){e=Cu(e);var n=q(e)?Q(e):nt,r=n?n[0]:e.charAt(0),i=n?Ai(n,1).join(""):e.slice(1);return r[t]()+i}}function Ki(t){return function(e){return g(Pl(ll(e).replace(qn,"")),t,"")}}function Zi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vd(t.prototype),r=t.apply(n,e);return uu(r)?r:n}}function Qi(t,e,n){function r(){for(var s=arguments.length,o=of(s),u=s,l=wa(r);u--;)o[u]=arguments[u];var f=s<3&&o[0]!==l&&o[s-1]!==l?[]:z(o,l);if(s-=f.length,s<n)return la(t,e,ea,r.placeholder,nt,o,f,nt,nt,n-s);var d=this&&this!==ar&&this instanceof r?i:t;return a(d,this,o)}var i=Zi(t);return r}function Ji(t){return function(e,n,r){var i=cf(e);if(!Ko(e)){var a=ka(n,3);e=Hu(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:nt}}function ta(t){return _a(function(e){var n=e.length,r=n,i=v.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new gf(st);if(i&&!s&&"wrapper"==Sa(a))var s=new v([],!0)}for(r=s?r:n;++r<n;){a=e[r];var o=Sa(a),u="wrapper"==o?Ld(a):nt;s=u&&qa(u[0])&&u[1]==(St|vt|bt|wt)&&!u[4].length&&1==u[9]?s[Sa(u[0])].apply(s,u[3]):1==a.length&&qa(a)?s[o]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Tc(r))return s.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}})}function ea(t,e,n,r,i,a,s,o,u,l){function f(){for(var y=arguments.length,v=of(y),_=y;_--;)v[_]=arguments[_];if(p)var b=wa(f),T=j(v,b);if(r&&(v=ji(v,r,i,p)),a&&(v=Ni(v,a,s,p)),y-=T,p&&y<l){var S=z(v,b);return la(t,e,ea,f.placeholder,n,v,S,o,u,l-y)}var w=c?n:this,k=h?w[t]:t;return y=v.length,o?v=Qa(v,o):g&&y>1&&v.reverse(),d&&u<y&&(v.length=u),this&&this!==ar&&this instanceof f&&(k=m||Zi(k)),k.apply(w,v)}var d=e&St,c=e&gt,h=e&mt,p=e&(vt|_t),g=e&kt,m=h?nt:Zi(t);return f}function na(t,e){return function(n,r){return Ar(n,t,e(r),{})}}function ra(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=mi(n),r=mi(r)):(n=gi(n),r=gi(r)),i=t(n,r)}return i}}function ia(t){return _a(function(e){return e=h(e,U(ka())),ai(function(n){var r=this;return t(e,function(t){return a(t,r,n)})})})}function aa(t,e){e=e===nt?" ":mi(e);var n=e.length;if(n<2)return n?ii(e,t):e;var r=ii(e,Wf(t/Z(e)));return q(e)?Ai(Q(r),0,t).join(""):r.slice(0,t)}function sa(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,f=r.length,d=of(f+u),c=this&&this!==ar&&this instanceof i?o:t;++l<f;)d[l]=r[l];for(;u--;)d[l++]=arguments[++e];return a(c,s?n:this,d)}var s=e&gt,o=Zi(t);return i}function oa(t){return function(e,n,r){return r&&"number"!=typeof r&&ja(e,n,r)&&(n=r=nt),e=Ou(e),n===nt?(n=e,e=0):n=Ou(n),r=r===nt?e<n?1:-1:Ou(r),ri(e,n,r,t)}}function ua(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Lu(e),n=Lu(n)),t(e,n)}}function la(t,e,n,r,i,a,s,o,u,l){var f=e&vt,d=f?s:nt,c=f?nt:s,h=f?a:nt,p=f?nt:a;e|=f?bt:Tt,e&=~(f?Tt:bt),e&yt||(e&=~(gt|mt));var g=[t,e,i,h,d,p,c,o,u,l],m=n.apply(nt,g);return qa(t)&&Ud(m,g),m.placeholder=r,Ja(m,t,e)}function fa(t){var e=df[t];return function(t,n){if(t=Lu(t),
    n=null==n?0:Zf(Eu(n),292)){var r=(Cu(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Cu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function da(t){return function(e){var n=Cd(e);return n==$t?H(e):n==ne?X(e):x(e,t(e))}}function ca(t,e,n,r,i,a,s,o){var u=e&mt;if(!u&&"function"!=typeof t)throw new gf(st);var l=r?r.length:0;if(l||(e&=~(bt|Tt),r=i=nt),s=s===nt?s:Kf(Eu(s),0),o=o===nt?o:Eu(o),l-=i?i.length:0,e&Tt){var f=r,d=i;r=i=nt}var c=u?nt:Ld(t),h=[t,e,n,r,i,f,d,a,s,o];if(c&&Ya(h,c),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],o=h[9]=h[9]===nt?u?0:t.length:Kf(h[9]-l,0),!o&&e&(vt|_t)&&(e&=~(vt|_t)),e&&e!=gt)p=e==vt||e==_t?Qi(t,e,o):e!=bt&&e!=(gt|bt)||i.length?ea.apply(nt,h):sa(t,e,n,r);else var p=Xi(t,e,n);var g=c?wd:Ud;return Ja(g(p,h),t,e)}function ha(t,e,n,r){return t===nt||$o(t,vf[n])&&!Tf.call(r,n)?e:t}function pa(t,e,n,r,i,a){return uu(t)&&uu(e)&&(a.set(e,t),Yr(t,e,nt,pa,a),a["delete"](e)),t}function ga(t){return yu(t)?nt:t}function ma(t,e,n,r,i,a){var s=n&ht,o=t.length,u=e.length;if(o!=u&&!(s&&u>o))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var f=-1,d=!0,c=n&pt?new yn:nt;for(a.set(t,e),a.set(e,t);++f<o;){var h=t[f],p=e[f];if(r)var g=s?r(p,h,f,e,t,a):r(h,p,f,t,e,a);if(g!==nt){if(g)continue;d=!1;break}if(c){if(!y(e,function(t,e){if(!R(c,e)&&(h===t||i(h,t,n,r,a)))return c.push(e)})){d=!1;break}}else if(h!==p&&!i(h,p,n,r,a)){d=!1;break}}return a["delete"](t),a["delete"](e),d}function ya(t,e,n,r,i,a,s){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ue:return!(t.byteLength!=e.byteLength||!a(new If(t),new If(e)));case Wt:case Ht:case Kt:return $o(+t,+e);case zt:return t.name==e.name&&t.message==e.message;case ee:case re:return t==e+"";case $t:var o=H;case ne:var u=r&ht;if(o||(o=Y),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=pt,s.set(t,e);var f=ma(o(t),o(e),r,i,a,s);return s["delete"](t),f;case ie:if(md)return md.call(t)==md.call(e)}return!1}function va(t,e,n,r,i,a){var s=n&ht,o=ba(t),u=o.length,l=ba(e),f=l.length;if(u!=f&&!s)return!1;for(var d=u;d--;){var c=o[d];if(!(s?c in e:Tf.call(e,c)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var p=!0;a.set(t,e),a.set(e,t);for(var g=s;++d<u;){c=o[d];var m=t[c],y=e[c];if(r)var v=s?r(y,m,c,e,t,a):r(m,y,c,t,e,a);if(!(v===nt?m===y||i(m,y,n,r,a):v)){p=!1;break}g||(g="constructor"==c)}if(p&&!g){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a["delete"](t),a["delete"](e),p}function _a(t){return Rd(Ka(t,nt,ms),t+"")}function ba(t){return lr(t,Hu,Pd)}function Ta(t){return lr(t,Vu,Id)}function Sa(t){for(var e=t.name+"",n=ld[e],r=Tf.call(ld,e)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function wa(t){var n=Tf.call(e,"placeholder")?e:t;return n.placeholder}function ka(){var t=e.iteratee||Rl;return t=t===Rl?Fr:t,arguments.length?t(arguments[0],arguments[1]):t}function Oa(t,e){var n=t.__data__;return Fa(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ea(t){for(var e=Hu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ha(i)]}return e}function Aa(t,e){var n=F(t,e);return Dr(n)?n:nt}function La(t){var e=Tf.call(t,jf),n=t[jf];try{t[jf]=nt;var r=!0}catch(i){}var a=kf.call(t);return r&&(e?t[jf]=n:delete t[jf]),a}function Pa(t,e,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],s=a.size;switch(a.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Zf(e,t+s);break;case"takeRight":t=Kf(t,e-s)}}return{start:t,end:e}}function Ia(t){var e=t.match(Ne);return e?e[1].split(Fe):[]}function Ca(t,e,n){e=Ei(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=ns(e[r]);if(!(a=null!=t&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=null==t?0:t.length,!!i&&ou(i)&&Ba(s,i)&&(Tc(t)||bc(t)))}function xa(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Tf.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ua(t){return"function"!=typeof t.constructor||Wa(t)?{}:vd(xf(t))}function Ma(t,e,n,r){var i=t.constructor;switch(e){case ue:return Pi(t);case Wt:case Ht:return new i(+t);case le:return Ii(t,r);case fe:case de:case ce:case he:case pe:case ge:case me:case ye:case ve:return Ri(t,r);case $t:return Ci(t,r,n);case Kt:case re:return new i(t);case ee:return xi(t);case ne:return Ui(t,r,n);case ie:return Mi(t)}}function Ra(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(je,"{\n/* [wrapped with "+e+"] */\n")}function Da(t){return Tc(t)||bc(t)||!!(Df&&t&&t[Df])}function Ba(t,e){return e=null==e?Ut:e,!!e&&("number"==typeof t||$e.test(t))&&t>-1&&t%1==0&&t<e}function ja(t,e,n){if(!uu(n))return!1;var r=typeof e;return!!("number"==r?Ko(n)&&Ba(e,n.length):"string"==r&&e in n)&&$o(n[e],t)}function Na(t,e){if(Tc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!bu(t))||(Ie.test(t)||!Pe.test(t)||null!=e&&t in cf(e))}function Fa(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function qa(t){var n=Sa(t),r=e[n];if("function"!=typeof r||!(n in A.prototype))return!1;if(t===r)return!0;var i=Ld(r);return!!i&&t===i[0]}function Ga(t){return!!wf&&wf in t}function Wa(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||vf;return t===n}function Ha(t){return t===t&&!uu(t)}function Va(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in cf(n)))}}function za(t){var e=Ro(t,function(t){return n.size===ut&&n.clear(),t}),n=e.cache;return e}function Ya(t,e){var n=t[1],r=e[1],i=n|r,a=i<(gt|mt|St),s=r==St&&n==vt||r==St&&n==wt&&t[7].length<=e[8]||r==(St|wt)&&e[7].length<=e[8]&&n==vt;if(!a&&!s)return t;r&gt&&(t[2]=e[2],i|=n&gt?0:yt);var o=e[3];if(o){var u=t[3];t[3]=u?ji(u,o,e[4]):o,t[4]=u?z(t[3],lt):e[4]}return o=e[5],o&&(u=t[5],t[5]=u?Ni(u,o,e[6]):o,t[6]=u?z(t[5],lt):e[6]),o=e[7],o&&(t[7]=o),r&St&&(t[8]=null==t[8]?e[8]:Zf(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Xa(t){var e=[];if(null!=t)for(var n in cf(t))e.push(n);return e}function $a(t){return kf.call(t)}function Ka(t,e,n){return e=Kf(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Kf(r.length-e,0),o=of(s);++i<s;)o[i]=r[e+i];i=-1;for(var u=of(e+1);++i<e;)u[i]=r[i];return u[e]=n(o),a(t,this,u)}}function Za(t,e){return e.length<2?t:or(t,fi(e,0,-1))}function Qa(t,e){for(var n=t.length,r=Zf(e.length,n),i=Fi(t);r--;){var a=e[r];t[r]=Ba(a,n)?i[a]:nt}return t}function Ja(t,e,n){var r=e+"";return Rd(t,Ra(r,is(Ia(r),n)))}function ts(t){var e=0,n=0;return function(){var r=Qf(),i=Lt-(r-n);if(n=r,i>0){if(++e>=At)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function es(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var a=ni(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}function ns(t){if("string"==typeof t||bu(t))return t;var e=t+"";return"0"==e&&1/t==-xt?"-0":e}function rs(t){if(null!=t){try{return bf.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function is(t,e){return o(Nt,function(n){var r="_."+n[0];e&n[1]&&!d(t,r)&&t.push(r)}),t.sort()}function as(t){if(t instanceof A)return t.clone();var e=new v(t.__wrapped__,t.__chain__);return e.__actions__=Fi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ss(t,e,n){e=(n?ja(t,e,n):e===nt)?1:Kf(Eu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,a=0,s=of(Wf(r/e));i<r;)s[a++]=fi(t,i,i+=e);return s}function os(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var a=t[e];a&&(i[r++]=a)}return i}function us(){var t=arguments.length;if(!t)return[];for(var e=of(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(Tc(n)?Fi(n):[n],tr(e,1))}function ls(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:Eu(e),fi(t,e<0?0:e,r)):[]}function fs(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:Eu(e),e=r-e,fi(t,0,e<0?0:e)):[]}function ds(t,e){return t&&t.length?bi(t,ka(e,3),!0,!0):[]}function cs(t,e){return t&&t.length?bi(t,ka(e,3),!0):[]}function hs(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ja(t,e,n)&&(n=0,r=i),Qn(t,e,n,r)):[]}function ps(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Eu(n);return i<0&&(i=Kf(r+i,0)),T(t,ka(e,3),i)}function gs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=Eu(n),i=n<0?Kf(r+i,0):Zf(i,r-1)),T(t,ka(e,3),i,!0)}function ms(t){var e=null==t?0:t.length;return e?tr(t,1):[]}function ys(t){var e=null==t?0:t.length;return e?tr(t,xt):[]}function vs(t,e){var n=null==t?0:t.length;return n?(e=e===nt?1:Eu(e),tr(t,e)):[]}function _s(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function bs(t){return t&&t.length?t[0]:nt}function Ts(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Eu(n);return i<0&&(i=Kf(r+i,0)),S(t,e,i)}function Ss(t){var e=null==t?0:t.length;return e?fi(t,0,-1):[]}function ws(t,e){return null==t?"":Xf.call(t,e)}function ks(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function Os(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=Eu(n),i=i<0?Kf(r+i,0):Zf(i,r-1)),e===e?K(t,e,i):T(t,k,i,!0)}function Es(t,e){return t&&t.length?$r(t,Eu(e)):nt}function As(t,e){return t&&t.length&&e&&e.length?ti(t,e):t}function Ls(t,e,n){return t&&t.length&&e&&e.length?ti(t,e,ka(n,2)):t}function Ps(t,e,n){return t&&t.length&&e&&e.length?ti(t,e,nt,n):t}function Is(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;for(e=ka(e,3);++r<a;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return ei(t,i),n}function Cs(t){return null==t?t:ed.call(t)}function xs(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ja(t,e,n)?(e=0,n=r):(e=null==e?0:Eu(e),n=n===nt?r:Eu(n)),fi(t,e,n)):[]}function Us(t,e){return ci(t,e)}function Ms(t,e,n){return hi(t,e,ka(n,2))}function Rs(t,e){var n=null==t?0:t.length;if(n){var r=ci(t,e);if(r<n&&$o(t[r],e))return r}return-1}function Ds(t,e){return ci(t,e,!0)}function Bs(t,e,n){return hi(t,e,ka(n,2),!0)}function js(t,e){var n=null==t?0:t.length;if(n){var r=ci(t,e,!0)-1;if($o(t[r],e))return r}return-1}function Ns(t){return t&&t.length?pi(t):[]}function Fs(t,e){return t&&t.length?pi(t,ka(e,2)):[]}function qs(t){var e=null==t?0:t.length;return e?fi(t,1,e):[]}function Gs(t,e,n){return t&&t.length?(e=n||e===nt?1:Eu(e),fi(t,0,e<0?0:e)):[]}function Ws(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:Eu(e),e=r-e,fi(t,e<0?0:e,r)):[]}function Hs(t,e){return t&&t.length?bi(t,ka(e,3),!1,!0):[]}function Vs(t,e){return t&&t.length?bi(t,ka(e,3)):[]}function zs(t){return t&&t.length?yi(t):[]}function Ys(t,e){return t&&t.length?yi(t,ka(e,2)):[]}function Xs(t,e){return e="function"==typeof e?e:nt,t&&t.length?yi(t,nt,e):[]}function $s(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Zo(t))return e=Kf(t.length,e),!0}),C(e,function(e){return h(t,E(e))})}function Ks(t,e){if(!t||!t.length)return[];var n=$s(t);return null==e?n:h(n,function(t){return a(e,nt,t)})}function Zs(t,e){return wi(t||[],e||[],Cn)}function Qs(t,e){return wi(t||[],e||[],ui)}function Js(t){var n=e(t);return n.__chain__=!0,n}function to(t,e){return e(t),t}function eo(t,e){return e(t)}function no(){return Js(this)}function ro(){return new v(this.value(),this.__chain__)}function io(){this.__values__===nt&&(this.__values__=ku(this.value()));var t=this.__index__>=this.__values__.length,e=t?nt:this.__values__[this.__index__++];return{done:t,value:e}}function ao(){return this}function so(t){for(var e,r=this;r instanceof n;){var i=as(r);i.__index__=0,i.__values__=nt,e?a.__wrapped__=i:e=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,e}function oo(){var t=this.__wrapped__;if(t instanceof A){var e=t;return this.__actions__.length&&(e=new A(this)),e=e.reverse(),e.__actions__.push({func:eo,args:[Cs],thisArg:nt}),new v(e,this.__chain__)}return this.thru(Cs)}function uo(){return Ti(this.__wrapped__,this.__actions__)}function lo(t,e,n){var r=Tc(t)?l:zn;return n&&ja(t,e,n)&&(e=nt),r(t,ka(e,3))}function fo(t,e){var n=Tc(t)?f:Jn;return n(t,ka(e,3))}function co(t,e){return tr(vo(t,e),1)}function ho(t,e){return tr(vo(t,e),xt)}function po(t,e,n){return n=n===nt?1:Eu(n),tr(vo(t,e),n)}function go(t,e){var n=Tc(t)?o:_d;return n(t,ka(e,3))}function mo(t,e){var n=Tc(t)?u:bd;return n(t,ka(e,3))}function yo(t,e,n,r){t=Ko(t)?t:rl(t),n=n&&!r?Eu(n):0;var i=t.length;return n<0&&(n=Kf(i+n,0)),_u(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&S(t,e,n)>-1}function vo(t,e){var n=Tc(t)?h:Hr;return n(t,ka(e,3))}function _o(t,e,n,r){return null==t?[]:(Tc(e)||(e=null==e?[]:[e]),n=r?nt:n,Tc(n)||(n=null==n?[]:[n]),Kr(t,e,n))}function bo(t,e,n){var r=Tc(t)?g:L,i=arguments.length<3;return r(t,ka(e,4),n,i,_d)}function To(t,e,n){var r=Tc(t)?m:L,i=arguments.length<3;return r(t,ka(e,4),n,i,bd)}function So(t,e){var n=Tc(t)?f:Jn;return n(t,Do(ka(e,3)))}function wo(t){var e=Tc(t)?An:si;return e(t)}function ko(t,e,n){e=(n?ja(t,e,n):e===nt)?1:Eu(e);var r=Tc(t)?Ln:oi;return r(t,e)}function Oo(t){var e=Tc(t)?Pn:li;return e(t)}function Eo(t){if(null==t)return 0;if(Ko(t))return _u(t)?Z(t):t.length;var e=Cd(t);return e==$t||e==ne?t.size:qr(t).length}function Ao(t,e,n){var r=Tc(t)?y:di;return n&&ja(t,e,n)&&(e=nt),r(t,ka(e,3))}function Lo(t,e){if("function"!=typeof e)throw new gf(st);return t=Eu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Po(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,ca(t,St,nt,nt,nt,nt,e)}function Io(t,e){var n;if("function"!=typeof e)throw new gf(st);return t=Eu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Co(t,e,n){e=n?nt:e;var r=ca(t,vt,nt,nt,nt,nt,nt,e);return r.placeholder=Co.placeholder,r}function xo(t,e,n){e=n?nt:e;var r=ca(t,_t,nt,nt,nt,nt,nt,e);return r.placeholder=xo.placeholder,r}function Uo(t,e,n){function r(e){var n=c,r=h;return c=h=nt,v=e,g=t.apply(r,n)}function i(t){return v=t,m=Md(o,e),_?r(t):g}function a(t){var n=t-y,r=t-v,i=e-n;return b?Zf(i,p-r):i}function s(t){var n=t-y,r=t-v;return y===nt||n>=e||n<0||b&&r>=p}function o(){var t=lc();return s(t)?u(t):void(m=Md(o,a(t)))}function u(t){return m=nt,T&&c?r(t):(c=h=nt,g)}function l(){m!==nt&&Ed(m),v=0,c=y=h=m=nt}function f(){return m===nt?g:u(lc())}function d(){var t=lc(),n=s(t);if(c=arguments,h=this,y=t,n){if(m===nt)return i(y);if(b)return m=Md(o,e),r(y)}return m===nt&&(m=Md(o,e)),g}var c,h,p,g,m,y,v=0,_=!1,b=!1,T=!0;if("function"!=typeof t)throw new gf(st);return e=Lu(e)||0,uu(n)&&(_=!!n.leading,b="maxWait"in n,p=b?Kf(Lu(n.maxWait)||0,e):p,T="trailing"in n?!!n.trailing:T),d.cancel=l,d.flush=f,d}function Mo(t){return ca(t,kt)}function Ro(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gf(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(Ro.Cache||dn),n}function Do(t){if("function"!=typeof t)throw new gf(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Bo(t){return Io(2,t)}function jo(t,e){if("function"!=typeof t)throw new gf(st);return e=e===nt?e:Eu(e),ai(t,e)}function No(t,e){if("function"!=typeof t)throw new gf(st);return e=null==e?0:Kf(Eu(e),0),ai(function(n){var r=n[e],i=Ai(n,0,e);return r&&p(i,r),a(t,this,i)})}function Fo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new gf(st);return uu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Uo(t,e,{leading:r,maxWait:e,trailing:i})}function qo(t){return Po(t,1)}function Go(t,e){return gc(Oi(e),t)}function Wo(){if(!arguments.length)return[];var t=arguments[0];return Tc(t)?t:[t]}function Ho(t){return Nn(t,ct)}function Vo(t,e){return e="function"==typeof e?e:nt,Nn(t,ct,e)}function zo(t){return Nn(t,ft|ct)}function Yo(t,e){return e="function"==typeof e?e:nt,Nn(t,ft|ct,e)}function Xo(t,e){return null==e||Wn(t,e,Hu(e))}function $o(t,e){return t===e||t!==t&&e!==e}function Ko(t){return null!=t&&ou(t.length)&&!au(t)}function Zo(t){return lu(t)&&Ko(t)}function Qo(t){return t===!0||t===!1||lu(t)&&fr(t)==Wt}function Jo(t){return lu(t)&&1===t.nodeType&&!yu(t)}function tu(t){if(null==t)return!0;if(Ko(t)&&(Tc(t)||"string"==typeof t||"function"==typeof t.splice||wc(t)||Lc(t)||bc(t)))return!t.length;var e=Cd(t);if(e==$t||e==ne)return!t.size;if(Wa(t))return!qr(t).length;for(var n in t)if(Tf.call(t,n))return!1;return!0}function eu(t,e){return xr(t,e)}function nu(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?xr(t,e,nt,n):!!r}function ru(t){if(!lu(t))return!1;var e=fr(t);return e==zt||e==Vt||"string"==typeof t.message&&"string"==typeof t.name&&!yu(t)}function iu(t){return"number"==typeof t&&Yf(t)}function au(t){if(!uu(t))return!1;var e=fr(t);return e==Yt||e==Xt||e==Gt||e==te}function su(t){return"number"==typeof t&&t==Eu(t)}function ou(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ut}function uu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function lu(t){return null!=t&&"object"==typeof t}function fu(t,e){return t===e||Rr(t,e,Ea(e))}function du(t,e,n){return n="function"==typeof n?n:nt,Rr(t,e,Ea(e),n)}function cu(t){return mu(t)&&t!=+t}function hu(t){if(xd(t))throw new lf(at);return Dr(t)}function pu(t){return null===t}function gu(t){return null==t}function mu(t){return"number"==typeof t||lu(t)&&fr(t)==Kt}function yu(t){if(!lu(t)||fr(t)!=Qt)return!1;var e=xf(t);if(null===e)return!0;var n=Tf.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bf.call(n)==Of}function vu(t){return su(t)&&t>=-Ut&&t<=Ut}function _u(t){return"string"==typeof t||!Tc(t)&&lu(t)&&fr(t)==re}function bu(t){return"symbol"==typeof t||lu(t)&&fr(t)==ie}function Tu(t){return t===nt}function Su(t){return lu(t)&&Cd(t)==se}function wu(t){return lu(t)&&fr(t)==oe}function ku(t){if(!t)return[];if(Ko(t))return _u(t)?Q(t):Fi(t);if(Bf&&t[Bf])return W(t[Bf]());var e=Cd(t),n=e==$t?H:e==ne?Y:rl;return n(t)}function Ou(t){if(!t)return 0===t?t:0;if(t=Lu(t),t===xt||t===-xt){var e=t<0?-1:1;return e*Mt}return t===t?t:0}function Eu(t){var e=Ou(t),n=e%1;return e===e?n?e-n:e:0}function Au(t){return t?jn(Eu(t),0,Dt):0}function Lu(t){if("number"==typeof t)return t;if(bu(t))return Rt;if(uu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=uu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Re,"");var n=ze.test(t);return n||Xe.test(t)?nr(t.slice(2),n?2:8):Ve.test(t)?Rt:+t}function Pu(t){return qi(t,Vu(t))}function Iu(t){return t?jn(Eu(t),-Ut,Ut):0===t?t:0}function Cu(t){return null==t?"":mi(t)}function xu(t,e){var n=vd(t);return null==e?n:Mn(n,e)}function Uu(t,e){return b(t,ka(e,3),rr)}function Mu(t,e){return b(t,ka(e,3),ir)}function Ru(t,e){return null==t?t:Td(t,ka(e,3),Vu)}function Du(t,e){return null==t?t:Sd(t,ka(e,3),Vu)}function Bu(t,e){return t&&rr(t,ka(e,3))}function ju(t,e){return t&&ir(t,ka(e,3))}function Nu(t){return null==t?[]:sr(t,Hu(t))}function Fu(t){return null==t?[]:sr(t,Vu(t))}function qu(t,e,n){var r=null==t?nt:or(t,e);return r===nt?n:r}function Gu(t,e){return null!=t&&Ca(t,e,Tr)}function Wu(t,e){return null!=t&&Ca(t,e,kr)}function Hu(t){return Ko(t)?En(t):qr(t)}function Vu(t){return Ko(t)?En(t,!0):Gr(t)}function zu(t,e){var n={};return e=ka(e,3),rr(t,function(t,r,i){Dn(n,e(t,r,i),t)}),n}function Yu(t,e){var n={};return e=ka(e,3),rr(t,function(t,r,i){Dn(n,r,e(t,r,i))}),n}function Xu(t,e){return $u(t,Do(ka(e)))}function $u(t,e){if(null==t)return{};var n=h(Ta(t),function(t){return[t]});return e=ka(e),Qr(t,n,function(t,n){return e(t,n[0])})}function Ku(t,e,n){e=Ei(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var a=null==t?nt:t[ns(e[r])];a===nt&&(r=i,a=n),t=au(a)?a.call(t):a}return t}function Zu(t,e,n){return null==t?t:ui(t,e,n)}function Qu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ui(t,e,n,r)}function Ju(t,e,n){var r=Tc(t),i=r||wc(t)||Lc(t);if(e=ka(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:uu(t)&&au(a)?vd(xf(t)):{}}return(i?o:rr)(t,function(t,r,i){return e(n,t,r,i)}),n}function tl(t,e){return null==t||vi(t,e)}function el(t,e,n){return null==t?t:_i(t,e,Oi(n))}function nl(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:_i(t,e,Oi(n),r)}function rl(t){return null==t?[]:M(t,Hu(t))}function il(t){return null==t?[]:M(t,Vu(t))}function al(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=Lu(n),n=n===n?n:0),e!==nt&&(e=Lu(e),e=e===e?e:0),jn(Lu(t),e,n)}function sl(t,e,n){return e=Ou(e),n===nt?(n=e,e=0):n=Ou(n),t=Lu(t),Or(t,e,n)}function ol(t,e,n){if(n&&"boolean"!=typeof n&&ja(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=Ou(t),e===nt?(e=t,t=0):e=Ou(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=td();return Zf(t+i*(e-t+er("1e-"+((i+"").length-1))),e)}return ni(t,e)}function ul(t){return th(Cu(t).toLowerCase())}function ll(t){return t=Cu(t),t&&t.replace(Ke,vr).replace(Gn,"")}function fl(t,e,n){t=Cu(t),e=mi(e);var r=t.length;n=n===nt?r:jn(Eu(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function dl(t){return t=Cu(t),t&&Oe.test(t)?t.replace(we,_r):t}function cl(t){return t=Cu(t),t&&Me.test(t)?t.replace(Ue,"\\$&"):t}function hl(t,e,n){t=Cu(t),e=Eu(e);var r=e?Z(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return aa(Hf(i),n)+t+aa(Wf(i),n)}function pl(t,e,n){t=Cu(t),e=Eu(e);var r=e?Z(t):0;return e&&r<e?t+aa(e-r,n):t}function gl(t,e,n){t=Cu(t),e=Eu(e);var r=e?Z(t):0;return e&&r<e?aa(e-r,n)+t:t}function ml(t,e,n){return n||null==e?e=0:e&&(e=+e),Jf(Cu(t).replace(De,""),e||0)}function yl(t,e,n){return e=(n?ja(t,e,n):e===nt)?1:Eu(e),ii(Cu(t),e)}function vl(){var t=arguments,e=Cu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function _l(t,e,n){return n&&"number"!=typeof n&&ja(t,e,n)&&(e=n=nt),(n=n===nt?Dt:n>>>0)?(t=Cu(t),t&&("string"==typeof e||null!=e&&!Ec(e))&&(e=mi(e),!e&&q(t))?Ai(Q(t),0,n):t.split(e,n)):[]}function bl(t,e,n){return t=Cu(t),n=null==n?0:jn(Eu(n),0,t.length),e=mi(e),t.slice(n,n+e.length)==e}function Tl(t,n,r){var i=e.templateSettings;r&&ja(t,n,r)&&(n=nt),t=Cu(t),n=Uc({},n,i,ha);var a,s,o=Uc({},n.imports,i.imports,ha),u=Hu(o),l=M(o,u),f=0,d=n.interpolate||Ze,c="__p += '",h=hf((n.escape||Ze).source+"|"+d.source+"|"+(d===Le?We:Ze).source+"|"+(n.evaluate||Ze).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Xn+"]")+"\n";t.replace(h,function(e,n,r,i,o,u){return r||(r=i),c+=t.slice(f,u).replace(Qe,N),n&&(a=!0,c+="' +\n__e("+n+") +\n'"),o&&(s=!0,c+="';\n"+o+";\n__p += '"),r&&(c+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),c+="';\n";var g=n.variable;g||(c="with (obj) {\n"+c+"\n}\n"),c=(s?c.replace(_e,""):c).replace(be,"$1").replace(Te,"$1;"),c="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var m=eh(function(){return ff(u,p+"return "+c).apply(nt,l)});if(m.source=c,ru(m))throw m;return m}function Sl(t){return Cu(t).toLowerCase()}function wl(t){return Cu(t).toUpperCase()}function kl(t,e,n){if(t=Cu(t),t&&(n||e===nt))return t.replace(Re,"");if(!t||!(e=mi(e)))return t;var r=Q(t),i=Q(e),a=D(r,i),s=B(r,i)+1;return Ai(r,a,s).join("")}function Ol(t,e,n){if(t=Cu(t),t&&(n||e===nt))return t.replace(Be,"");if(!t||!(e=mi(e)))return t;var r=Q(t),i=B(r,Q(e))+1;return Ai(r,0,i).join("")}function El(t,e,n){if(t=Cu(t),t&&(n||e===nt))return t.replace(De,"");if(!t||!(e=mi(e)))return t;var r=Q(t),i=D(r,Q(e));return Ai(r,i).join("")}function Al(t,e){var n=Ot,r=Et;if(uu(e)){var i="separator"in e?e.separator:i;n="length"in e?Eu(e.length):n,r="omission"in e?mi(e.omission):r}t=Cu(t);var a=t.length;if(q(t)){var s=Q(t);a=s.length}if(n>=a)return t;var o=n-Z(r);if(o<1)return r;var u=s?Ai(s,0,o).join(""):t.slice(0,o);if(i===nt)return u+r;if(s&&(o+=u.length-o),Ec(i)){if(t.slice(o).search(i)){var l,f=u;for(i.global||(i=hf(i.source,Cu(He.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;u=u.slice(0,d===nt?o:d)}}else if(t.indexOf(mi(i),o)!=o){var c=u.lastIndexOf(i);c>-1&&(u=u.slice(0,c))}return u+r}function Ll(t){return t=Cu(t),t&&ke.test(t)?t.replace(Se,br):t}function Pl(t,e,n){return t=Cu(t),e=n?nt:e,e===nt?G(t)?et(t):_(t):t.match(e)||[]}function Il(t){var e=null==t?0:t.length,n=ka();return t=e?h(t,function(t){if("function"!=typeof t[1])throw new gf(st);return[n(t[0]),t[1]]}):[],ai(function(n){for(var r=-1;++r<e;){var i=t[r];if(a(i[0],this,n))return a(i[1],this,n)}})}function Cl(t){return Fn(Nn(t,ft))}function xl(t){return function(){return t}}function Ul(t,e){return null==t||t!==t?e:t}function Ml(t){return t}function Rl(t){return Fr("function"==typeof t?t:Nn(t,ft))}function Dl(t){return Vr(Nn(t,ft))}function Bl(t,e){return zr(t,Nn(e,ft))}function jl(t,e,n){var r=Hu(e),i=sr(e,r);null!=n||uu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=sr(e,Hu(e)));var a=!(uu(n)&&"chain"in n&&!n.chain),s=au(t);return o(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),i=n.__actions__=Fi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function Nl(){return ar._===this&&(ar._=Ef),this}function Fl(){}function ql(t){return t=Eu(t),ai(function(e){return $r(e,t)})}function Gl(t){return Na(t)?E(ns(t)):Jr(t)}function Wl(t){return function(e){return null==t?nt:or(t,e)}}function Hl(){return[]}function Vl(){return!1}function zl(){return{}}function Yl(){return""}function Xl(){return!0}function $l(t,e){if(t=Eu(t),t<1||t>Ut)return[];var n=Dt,r=Zf(t,Dt);e=ka(e),t-=Dt;for(var i=C(r,e);++n<t;)e(n);return i}function Kl(t){return Tc(t)?h(t,ns):bu(t)?[t]:Fi(Dd(Cu(t)))}function Zl(t){var e=++Sf;return Cu(t)+e}function Ql(t){return t&&t.length?Zn(t,Ml,yr):nt}function Jl(t,e){return t&&t.length?Zn(t,ka(e,2),yr):nt}function tf(t){return O(t,Ml)}function ef(t,e){return O(t,ka(e,2))}function nf(t){return t&&t.length?Zn(t,Ml,Wr):nt}function rf(t,e){return t&&t.length?Zn(t,ka(e,2),Wr):nt}function af(t){return t&&t.length?I(t,Ml):0}function sf(t,e){return t&&t.length?I(t,ka(e,2)):0}t=null==t?ar:Sr.defaults(ar.Object(),t,Sr.pick(ar,Yn));var of=t.Array,uf=t.Date,lf=t.Error,ff=t.Function,df=t.Math,cf=t.Object,hf=t.RegExp,pf=t.String,gf=t.TypeError,mf=of.prototype,yf=ff.prototype,vf=cf.prototype,_f=t["__core-js_shared__"],bf=yf.toString,Tf=vf.hasOwnProperty,Sf=0,wf=function(){var t=/[^.]+$/.exec(_f&&_f.keys&&_f.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),kf=vf.toString,Of=bf.call(cf),Ef=ar._,Af=hf("^"+bf.call(Tf).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lf=ur?t.Buffer:nt,Pf=t.Symbol,If=t.Uint8Array,Cf=Lf?Lf.allocUnsafe:nt,xf=V(cf.getPrototypeOf,cf),Uf=cf.create,Mf=vf.propertyIsEnumerable,Rf=mf.splice,Df=Pf?Pf.isConcatSpreadable:nt,Bf=Pf?Pf.iterator:nt,jf=Pf?Pf.toStringTag:nt,Nf=function(){try{var t=Aa(cf,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ff=t.clearTimeout!==ar.clearTimeout&&t.clearTimeout,qf=uf&&uf.now!==ar.Date.now&&uf.now,Gf=t.setTimeout!==ar.setTimeout&&t.setTimeout,Wf=df.ceil,Hf=df.floor,Vf=cf.getOwnPropertySymbols,zf=Lf?Lf.isBuffer:nt,Yf=t.isFinite,Xf=mf.join,$f=V(cf.keys,cf),Kf=df.max,Zf=df.min,Qf=uf.now,Jf=t.parseInt,td=df.random,ed=mf.reverse,nd=Aa(t,"DataView"),rd=Aa(t,"Map"),id=Aa(t,"Promise"),ad=Aa(t,"Set"),sd=Aa(t,"WeakMap"),od=Aa(cf,"create"),ud=sd&&new sd,ld={},fd=rs(nd),dd=rs(rd),cd=rs(id),hd=rs(ad),pd=rs(sd),gd=Pf?Pf.prototype:nt,md=gd?gd.valueOf:nt,yd=gd?gd.toString:nt,vd=function(){function t(){}return function(e){if(!uu(e))return{};if(Uf)return Uf(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();e.templateSettings={escape:Ee,evaluate:Ae,interpolate:Le,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,v.prototype=vd(n.prototype),v.prototype.constructor=v,A.prototype=vd(n.prototype),A.prototype.constructor=A,qe.prototype.clear=Je,qe.prototype["delete"]=tn,qe.prototype.get=en,qe.prototype.has=nn,qe.prototype.set=rn,an.prototype.clear=sn,an.prototype["delete"]=on,an.prototype.get=un,an.prototype.has=ln,an.prototype.set=fn,dn.prototype.clear=cn,dn.prototype["delete"]=hn,dn.prototype.get=pn,dn.prototype.has=gn,dn.prototype.set=mn,yn.prototype.add=yn.prototype.push=vn,yn.prototype.has=_n,bn.prototype.clear=Tn,bn.prototype["delete"]=Sn,bn.prototype.get=wn,bn.prototype.has=kn,bn.prototype.set=On;var _d=zi(rr),bd=zi(ir,!0),Td=Yi(),Sd=Yi(!0),wd=ud?function(t,e){return ud.set(t,e),t}:Ml,kd=Nf?function(t,e){return Nf(t,"toString",{configurable:!0,enumerable:!1,value:xl(e),writable:!0})}:Ml,Od=ai,Ed=Ff||function(t){return ar.clearTimeout(t)},Ad=ad&&1/Y(new ad([,-0]))[1]==xt?function(t){return new ad(t)}:Fl,Ld=ud?function(t){return ud.get(t)}:Fl,Pd=Vf?function(t){return null==t?[]:(t=cf(t),f(Vf(t),function(e){return Mf.call(t,e)}))}:Hl,Id=Vf?function(t){for(var e=[];t;)p(e,Pd(t)),t=xf(t);return e}:Hl,Cd=fr;(nd&&Cd(new nd(new ArrayBuffer(1)))!=le||rd&&Cd(new rd)!=$t||id&&Cd(id.resolve())!=Jt||ad&&Cd(new ad)!=ne||sd&&Cd(new sd)!=se)&&(Cd=function(t){var e=fr(t),n=e==Qt?t.constructor:nt,r=n?rs(n):"";if(r)switch(r){case fd:return le;case dd:return $t;case cd:return Jt;case hd:return ne;case pd:return se}return e});var xd=_f?au:Vl,Ud=ts(wd),Md=Gf||function(t,e){return ar.setTimeout(t,e)},Rd=ts(kd),Dd=za(function(t){var e=[];return Ce.test(t)&&e.push(""),t.replace(xe,function(t,n,r,i){e.push(r?i.replace(Ge,"$1"):n||t)}),e}),Bd=ai(function(t,e){return Zo(t)?Vn(t,tr(e,1,Zo,!0)):[]}),jd=ai(function(t,e){var n=ks(e);return Zo(n)&&(n=nt),Zo(t)?Vn(t,tr(e,1,Zo,!0),ka(n,2)):[]}),Nd=ai(function(t,e){var n=ks(e);return Zo(n)&&(n=nt),Zo(t)?Vn(t,tr(e,1,Zo,!0),nt,n):[]}),Fd=ai(function(t){var e=h(t,ki);return e.length&&e[0]===t[0]?Er(e):[]}),qd=ai(function(t){var e=ks(t),n=h(t,ki);return e===ks(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?Er(n,ka(e,2)):[]}),Gd=ai(function(t){var e=ks(t),n=h(t,ki);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?Er(n,nt,e):[]}),Wd=ai(As),Hd=_a(function(t,e){var n=null==t?0:t.length,r=Bn(t,e);return ei(t,h(e,function(t){return Ba(t,n)?+t:t}).sort(Di)),r}),Vd=ai(function(t){return yi(tr(t,1,Zo,!0))}),zd=ai(function(t){var e=ks(t);return Zo(e)&&(e=nt),yi(tr(t,1,Zo,!0),ka(e,2))}),Yd=ai(function(t){var e=ks(t);return e="function"==typeof e?e:nt,yi(tr(t,1,Zo,!0),nt,e)}),Xd=ai(function(t,e){return Zo(t)?Vn(t,e):[]}),$d=ai(function(t){return Si(f(t,Zo))}),Kd=ai(function(t){var e=ks(t);return Zo(e)&&(e=nt),Si(f(t,Zo),ka(e,2))}),Zd=ai(function(t){var e=ks(t);return e="function"==typeof e?e:nt,Si(f(t,Zo),nt,e)}),Qd=ai($s),Jd=ai(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Ks(t,n)}),tc=_a(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Bn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof A&&Ba(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:eo,args:[i],thisArg:nt}),new v(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(i)}),ec=Hi(function(t,e,n){Tf.call(t,n)?++t[n]:Dn(t,n,1)}),nc=Ji(ps),rc=Ji(gs),ic=Hi(function(t,e,n){Tf.call(t,n)?t[n].push(e):Dn(t,n,[e])}),ac=ai(function(t,e,n){var r=-1,i="function"==typeof e,s=Ko(t)?of(t.length):[];return _d(t,function(t){s[++r]=i?a(e,t,n):Lr(t,e,n)}),s}),sc=Hi(function(t,e,n){Dn(t,n,e)}),oc=Hi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),uc=ai(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ja(t,e[0],e[1])?e=[]:n>2&&ja(e[0],e[1],e[2])&&(e=[e[0]]),Kr(t,tr(e,1),[])}),lc=qf||function(){return ar.Date.now()},fc=ai(function(t,e,n){var r=gt;if(n.length){var i=z(n,wa(fc));r|=bt}return ca(t,r,e,n,i)}),dc=ai(function(t,e,n){var r=gt|mt;if(n.length){var i=z(n,wa(dc));r|=bt}return ca(e,r,t,n,i)}),cc=ai(function(t,e){return Hn(t,1,e)}),hc=ai(function(t,e,n){return Hn(t,Lu(e)||0,n)});Ro.Cache=dn;var pc=Od(function(t,e){e=1==e.length&&Tc(e[0])?h(e[0],U(ka())):h(tr(e,1),U(ka()));var n=e.length;return ai(function(r){for(var i=-1,s=Zf(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);
    return a(t,this,r)})}),gc=ai(function(t,e){var n=z(e,wa(gc));return ca(t,bt,nt,e,n)}),mc=ai(function(t,e){var n=z(e,wa(mc));return ca(t,Tt,nt,e,n)}),yc=_a(function(t,e){return ca(t,wt,nt,nt,nt,e)}),vc=ua(yr),_c=ua(function(t,e){return t>=e}),bc=Pr(function(){return arguments}())?Pr:function(t){return lu(t)&&Tf.call(t,"callee")&&!Mf.call(t,"callee")},Tc=of.isArray,Sc=dr?U(dr):Ir,wc=zf||Vl,kc=cr?U(cr):Cr,Oc=hr?U(hr):Mr,Ec=pr?U(pr):Br,Ac=gr?U(gr):jr,Lc=mr?U(mr):Nr,Pc=ua(Wr),Ic=ua(function(t,e){return t<=e}),Cc=Vi(function(t,e){if(Wa(e)||Ko(e))return void qi(e,Hu(e),t);for(var n in e)Tf.call(e,n)&&Cn(t,n,e[n])}),xc=Vi(function(t,e){qi(e,Vu(e),t)}),Uc=Vi(function(t,e,n,r){qi(e,Vu(e),t,r)}),Mc=Vi(function(t,e,n,r){qi(e,Hu(e),t,r)}),Rc=_a(Bn),Dc=ai(function(t){return t.push(nt,ha),a(Uc,nt,t)}),Bc=ai(function(t){return t.push(nt,pa),a(Gc,nt,t)}),jc=na(function(t,e,n){t[e]=n},xl(Ml)),Nc=na(function(t,e,n){Tf.call(t,e)?t[e].push(n):t[e]=[n]},ka),Fc=ai(Lr),qc=Vi(function(t,e,n){Yr(t,e,n)}),Gc=Vi(function(t,e,n,r){Yr(t,e,n,r)}),Wc=_a(function(t,e){var n={};if(null==t)return n;var r=!1;e=h(e,function(e){return e=Ei(e,t),r||(r=e.length>1),e}),qi(t,Ta(t),n),r&&(n=Nn(n,ft|dt|ct,ga));for(var i=e.length;i--;)vi(n,e[i]);return n}),Hc=_a(function(t,e){return null==t?{}:Zr(t,e)}),Vc=da(Hu),zc=da(Vu),Yc=Ki(function(t,e,n){return e=e.toLowerCase(),t+(n?ul(e):e)}),Xc=Ki(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),$c=Ki(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Kc=$i("toLowerCase"),Zc=Ki(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Qc=Ki(function(t,e,n){return t+(n?" ":"")+th(e)}),Jc=Ki(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),th=$i("toUpperCase"),eh=ai(function(t,e){try{return a(t,nt,e)}catch(n){return ru(n)?n:new lf(n)}}),nh=_a(function(t,e){return o(e,function(e){e=ns(e),Dn(t,e,fc(t[e],t))}),t}),rh=ta(),ih=ta(!0),ah=ai(function(t,e){return function(n){return Lr(n,t,e)}}),sh=ai(function(t,e){return function(n){return Lr(t,n,e)}}),oh=ia(h),uh=ia(l),lh=ia(y),fh=oa(),dh=oa(!0),ch=ra(function(t,e){return t+e},0),hh=fa("ceil"),ph=ra(function(t,e){return t/e},1),gh=fa("floor"),mh=ra(function(t,e){return t*e},1),yh=fa("round"),vh=ra(function(t,e){return t-e},0);return e.after=Lo,e.ary=Po,e.assign=Cc,e.assignIn=xc,e.assignInWith=Uc,e.assignWith=Mc,e.at=Rc,e.before=Io,e.bind=fc,e.bindAll=nh,e.bindKey=dc,e.castArray=Wo,e.chain=Js,e.chunk=ss,e.compact=os,e.concat=us,e.cond=Il,e.conforms=Cl,e.constant=xl,e.countBy=ec,e.create=xu,e.curry=Co,e.curryRight=xo,e.debounce=Uo,e.defaults=Dc,e.defaultsDeep=Bc,e.defer=cc,e.delay=hc,e.difference=Bd,e.differenceBy=jd,e.differenceWith=Nd,e.drop=ls,e.dropRight=fs,e.dropRightWhile=ds,e.dropWhile=cs,e.fill=hs,e.filter=fo,e.flatMap=co,e.flatMapDeep=ho,e.flatMapDepth=po,e.flatten=ms,e.flattenDeep=ys,e.flattenDepth=vs,e.flip=Mo,e.flow=rh,e.flowRight=ih,e.fromPairs=_s,e.functions=Nu,e.functionsIn=Fu,e.groupBy=ic,e.initial=Ss,e.intersection=Fd,e.intersectionBy=qd,e.intersectionWith=Gd,e.invert=jc,e.invertBy=Nc,e.invokeMap=ac,e.iteratee=Rl,e.keyBy=sc,e.keys=Hu,e.keysIn=Vu,e.map=vo,e.mapKeys=zu,e.mapValues=Yu,e.matches=Dl,e.matchesProperty=Bl,e.memoize=Ro,e.merge=qc,e.mergeWith=Gc,e.method=ah,e.methodOf=sh,e.mixin=jl,e.negate=Do,e.nthArg=ql,e.omit=Wc,e.omitBy=Xu,e.once=Bo,e.orderBy=_o,e.over=oh,e.overArgs=pc,e.overEvery=uh,e.overSome=lh,e.partial=gc,e.partialRight=mc,e.partition=oc,e.pick=Hc,e.pickBy=$u,e.property=Gl,e.propertyOf=Wl,e.pull=Wd,e.pullAll=As,e.pullAllBy=Ls,e.pullAllWith=Ps,e.pullAt=Hd,e.range=fh,e.rangeRight=dh,e.rearg=yc,e.reject=So,e.remove=Is,e.rest=jo,e.reverse=Cs,e.sampleSize=ko,e.set=Zu,e.setWith=Qu,e.shuffle=Oo,e.slice=xs,e.sortBy=uc,e.sortedUniq=Ns,e.sortedUniqBy=Fs,e.split=_l,e.spread=No,e.tail=qs,e.take=Gs,e.takeRight=Ws,e.takeRightWhile=Hs,e.takeWhile=Vs,e.tap=to,e.throttle=Fo,e.thru=eo,e.toArray=ku,e.toPairs=Vc,e.toPairsIn=zc,e.toPath=Kl,e.toPlainObject=Pu,e.transform=Ju,e.unary=qo,e.union=Vd,e.unionBy=zd,e.unionWith=Yd,e.uniq=zs,e.uniqBy=Ys,e.uniqWith=Xs,e.unset=tl,e.unzip=$s,e.unzipWith=Ks,e.update=el,e.updateWith=nl,e.values=rl,e.valuesIn=il,e.without=Xd,e.words=Pl,e.wrap=Go,e.xor=$d,e.xorBy=Kd,e.xorWith=Zd,e.zip=Qd,e.zipObject=Zs,e.zipObjectDeep=Qs,e.zipWith=Jd,e.entries=Vc,e.entriesIn=zc,e.extend=xc,e.extendWith=Uc,jl(e,e),e.add=ch,e.attempt=eh,e.camelCase=Yc,e.capitalize=ul,e.ceil=hh,e.clamp=al,e.clone=Ho,e.cloneDeep=zo,e.cloneDeepWith=Yo,e.cloneWith=Vo,e.conformsTo=Xo,e.deburr=ll,e.defaultTo=Ul,e.divide=ph,e.endsWith=fl,e.eq=$o,e.escape=dl,e.escapeRegExp=cl,e.every=lo,e.find=nc,e.findIndex=ps,e.findKey=Uu,e.findLast=rc,e.findLastIndex=gs,e.findLastKey=Mu,e.floor=gh,e.forEach=go,e.forEachRight=mo,e.forIn=Ru,e.forInRight=Du,e.forOwn=Bu,e.forOwnRight=ju,e.get=qu,e.gt=vc,e.gte=_c,e.has=Gu,e.hasIn=Wu,e.head=bs,e.identity=Ml,e.includes=yo,e.indexOf=Ts,e.inRange=sl,e.invoke=Fc,e.isArguments=bc,e.isArray=Tc,e.isArrayBuffer=Sc,e.isArrayLike=Ko,e.isArrayLikeObject=Zo,e.isBoolean=Qo,e.isBuffer=wc,e.isDate=kc,e.isElement=Jo,e.isEmpty=tu,e.isEqual=eu,e.isEqualWith=nu,e.isError=ru,e.isFinite=iu,e.isFunction=au,e.isInteger=su,e.isLength=ou,e.isMap=Oc,e.isMatch=fu,e.isMatchWith=du,e.isNaN=cu,e.isNative=hu,e.isNil=gu,e.isNull=pu,e.isNumber=mu,e.isObject=uu,e.isObjectLike=lu,e.isPlainObject=yu,e.isRegExp=Ec,e.isSafeInteger=vu,e.isSet=Ac,e.isString=_u,e.isSymbol=bu,e.isTypedArray=Lc,e.isUndefined=Tu,e.isWeakMap=Su,e.isWeakSet=wu,e.join=ws,e.kebabCase=Xc,e.last=ks,e.lastIndexOf=Os,e.lowerCase=$c,e.lowerFirst=Kc,e.lt=Pc,e.lte=Ic,e.max=Ql,e.maxBy=Jl,e.mean=tf,e.meanBy=ef,e.min=nf,e.minBy=rf,e.stubArray=Hl,e.stubFalse=Vl,e.stubObject=zl,e.stubString=Yl,e.stubTrue=Xl,e.multiply=mh,e.nth=Es,e.noConflict=Nl,e.noop=Fl,e.now=lc,e.pad=hl,e.padEnd=pl,e.padStart=gl,e.parseInt=ml,e.random=ol,e.reduce=bo,e.reduceRight=To,e.repeat=yl,e.replace=vl,e.result=Ku,e.round=yh,e.runInContext=wr,e.sample=wo,e.size=Eo,e.snakeCase=Zc,e.some=Ao,e.sortedIndex=Us,e.sortedIndexBy=Ms,e.sortedIndexOf=Rs,e.sortedLastIndex=Ds,e.sortedLastIndexBy=Bs,e.sortedLastIndexOf=js,e.startCase=Qc,e.startsWith=bl,e.subtract=vh,e.sum=af,e.sumBy=sf,e.template=Tl,e.times=$l,e.toFinite=Ou,e.toInteger=Eu,e.toLength=Au,e.toLower=Sl,e.toNumber=Lu,e.toSafeInteger=Iu,e.toString=Cu,e.toUpper=wl,e.trim=kl,e.trimEnd=Ol,e.trimStart=El,e.truncate=Al,e.unescape=Ll,e.uniqueId=Zl,e.upperCase=Jc,e.upperFirst=th,e.each=go,e.eachRight=mo,e.first=bs,jl(e,function(){var t={};return rr(e,function(n,r){Tf.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=rt,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),o(["drop","take"],function(t,e){A.prototype[t]=function(n){n=n===nt?1:Kf(Eu(n),0);var r=this.__filtered__&&!e?new A(this):this.clone();return r.__filtered__?r.__takeCount__=Zf(n,r.__takeCount__):r.__views__.push({size:Zf(n,Dt),type:t+(r.__dir__<0?"Right":"")}),r},A.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),o(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Pt||n==Ct;A.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ka(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),o(["head","last"],function(t,e){var n="take"+(e?"Right":"");A.prototype[t]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");A.prototype[t]=function(){return this.__filtered__?new A(this):this[n](1)}}),A.prototype.compact=function(){return this.filter(Ml)},A.prototype.find=function(t){return this.filter(t).head()},A.prototype.findLast=function(t){return this.reverse().find(t)},A.prototype.invokeMap=ai(function(t,e){return"function"==typeof t?new A(this):this.map(function(n){return Lr(n,t,e)})}),A.prototype.reject=function(t){return this.filter(Do(ka(t)))},A.prototype.slice=function(t,e){t=Eu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new A(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=Eu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},A.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},A.prototype.toArray=function(){return this.take(Dt)},rr(A.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),a=e[i?"take"+("last"==n?"Right":""):n],s=i||/^find/.test(n);a&&(e.prototype[n]=function(){var n=this.__wrapped__,o=i?[1]:arguments,u=n instanceof A,l=o[0],f=u||Tc(n),d=function(t){var n=a.apply(e,p([t],o));return i&&c?n[0]:n};f&&r&&"function"==typeof l&&1!=l.length&&(u=f=!1);var c=this.__chain__,h=!!this.__actions__.length,g=s&&!c,m=u&&!h;if(!s&&f){n=m?n:new A(this);var y=t.apply(n,o);return y.__actions__.push({func:eo,args:[d],thisArg:nt}),new v(y,c)}return g&&m?t.apply(this,o):(y=this.thru(d),g?i?y.value()[0]:y.value():y)})}),o(["pop","push","shift","sort","splice","unshift"],function(t){var n=mf[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(Tc(e)?e:[],t)}return this[r](function(e){return n.apply(Tc(e)?e:[],t)})}}),rr(A.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",a=ld[i]||(ld[i]=[]);a.push({name:n,func:r})}}),ld[ea(nt,mt).name]=[{name:"wrapper",func:nt}],A.prototype.clone=$,A.prototype.reverse=J,A.prototype.value=tt,e.prototype.at=tc,e.prototype.chain=no,e.prototype.commit=ro,e.prototype.next=io,e.prototype.plant=so,e.prototype.reverse=oo,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=uo,e.prototype.first=e.prototype.head,Bf&&(e.prototype[Bf]=ao),e},Sr=Tr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ar._=Sr,define(function(){return Sr})):or?((or.exports=Sr)._=Sr,sr._=Sr):ar._=Sr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t(32),a=r(i),s=t(33),o=r(s),u=t(34),l=r(u);e.exports={LineStream:a["default"],ParseStream:o["default"],Parser:l["default"]}},{}],32:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t(35),l=r(u),f=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.buffer="",t}return s(e,t),o(e,[{key:"push",value:function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)}}]),e}(l["default"]);n["default"]=f},{}],33:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=t(35),f=r(l),d=function(){var t="[^=]*",e='"[^"]*"|[^,]*',n="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+n+")")},c=function(t){for(var e=t.split(d()),n={},r=e.length,i=void 0;r--;)""!==e[r]&&(i=/([^=]*)=(.*)/.exec(e[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),n[i[0]]=i[1]);return n},h=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return s(e,t),u(e,[{key:"push",value:function(t){var e=void 0,n=void 0;if(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==t.length){if("#"!==t[0])return void this.trigger("data",{type:"uri",uri:t});if(0!==t.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:t.slice(1)});if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var r=c(e[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var i=r.BYTERANGE.split("@"),a=o(i,2),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}return void this.trigger("data",n)}if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=c(e[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),f={};l[0]&&(f.width=parseInt(l[0],10)),l[1]&&(f.height=parseInt(l[1],10)),n.attributes.RESOLUTION=f}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}return(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))?(n={type:"tag",tagType:"media"},e[1]&&(n.attributes=c(e[1])),void this.trigger("data",n)):(e=/^#EXT-X-ENDLIST/.exec(t))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(e=/^#EXT-X-DISCONTINUITY/.exec(t))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))?(n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n)):(e=/^#EXT-X-KEY:?(.*)$/.exec(t))?(n={type:"tag",tagType:"key"},e[1]&&(n.attributes=c(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:t.slice(4)})}}}]),e}(f["default"]);n["default"]=h},{}],34:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=t(35),f=r(l),d=t(32),c=r(d),h=t(33),p=r(h),g=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.lineStream=new c["default"],t.parseStream=new p["default"],t.lineStream.pipe(t.parseStream);var n=t,r=[],s={},u=void 0,l=void 0,f=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(t){var e=void 0,i=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function a(){var a={};"length"in t&&(s.byterange=a,a.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(s.byterange=a,a.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(s.duration=t.duration),0===t.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){return t.attributes?"NONE"===t.attributes.METHOD?void(l=null):t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void("undefined"!=typeof t.attributes.IV&&(l.iv=t.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(t.number)?void(this.manifest.mediaSequence=t.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){return isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,void(h=t.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){return/VOD|EVENT/.test(t.playlistType)?void(this.manifest.playlistType=t.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){u={},t.uri&&(u.uri=t.uri),t.byterange&&(u.byterange=t.byterange)},"stream-inf":function(){return this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes?(s.attributes||(s.attributes={}),void o(s.attributes,t.attributes)):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],i={"default":/yes/i.test(t.attributes.DEFAULT)},i["default"]?i.autoselect=!0:i.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(i.language=t.attributes.LANGUAGE),t.attributes.URI&&(i.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(i.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(i.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(i.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=i},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):void(this.manifest.targetDuration=t.duration)},totalduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):void(this.manifest.totalDuration=t.duration)},"cue-out":function(){s.cueOut=t.data},"cue-out-cont":function(){s.cueOutCont=t.data},"cue-in":function(){s.cueIn=t.data}})[t.tagType]||f).call(n)},uri:function(){s.uri=t.uri,r.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=h,u&&(s.map=u),s={}},comment:function(){}})[t.type].call(n)}),t}return s(e,t),u(e,[{key:"push",value:function(t){this.lineStream.push(t)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),e}(f["default"]);n["default"]=g},{}],35:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t),this.listeners={}}return i(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1}},{key:"trigger",value:function(t){var e=this.listeners[t],n=void 0,r=void 0,i=void 0;if(e)if(2===arguments.length)for(r=e.length,n=0;n<r;++n)e[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=e.length,n=0;n<r;++n)e[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),t}();n["default"]=a},{}],36:[function(t,e,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},a=function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},s=function(t,e,n){return unescape(a(t,e,n))},o=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],r=t[e+5],i=(16&r)>>4;return i?n+20:n+10},u=function(t,e){var n=(224&t[e+5])>>5,r=t[e+4]<<3,i=6144&t[e+3];return i|r|n},l=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":t[e]&!0&&240===(240&t[e+1])?"audio":null},f=function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240===(246&t[e+1]))return r[(60&t[e+2])>>>2];e++}return null},d=function(t){var e,n,r,a;e=10,64&t[5]&&(e+=4,e+=i(t.subarray(10,14)));do{if(n=i(t.subarray(e+4,e+8)),n<1)return null;if(a=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===a){r=t.subarray(e+10,e+n+10);for(var o=0;o<r.byteLength;o++)if(0===r[o]){var u=s(r,0,o);if("com.apple.streaming.transportStreamTimestamp"===u){var l=r.subarray(o+1),f=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;return f*=4,f+=3&l[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null};e.exports={parseId3TagSize:o,parseAdtsSize:u,parseType:l,parseSampleRate:f,parseAacTimestamp:d}},{}],37:[function(t,e,n){"use strict";var r=t(38),i=function(t){var e=31&t[1];return e<<=8,e|=t[2]},a=function(t){return!!(64&t[1])},s=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},o=function(t,e){var n=i(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},u=function(t){var e=a(t),n=4+s(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},l=function(t){var e={},n=a(t),r=4+s(t);if(n&&(r+=t[r]+1),1&t[r+5]){var i,o,u;i=(15&t[r+1])<<8|t[r+2],o=3+i-4,u=(15&t[r+10])<<8|t[r+11];for(var l=12+u;l<o;){var f=r+l;e[(31&t[f+1])<<8|t[f+2]]=t[f],l+=((15&t[f+3])<<8|t[f+4])+5}return e}},f=function(t,e){var n=i(t),a=e[n];switch(a){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(t){var e=a(t);if(!e)return null;var n=4+s(t);if(n>=t.byteLength)return null;var r,i=null;return r=t[n+7],192&r&&(i={},i.pts=(14&t[n+9])<<27|(255&t[n+10])<<20|(254&t[n+11])<<12|(255&t[n+12])<<5|(254&t[n+13])>>>3,i.pts*=4,i.pts+=(6&t[n+13])>>>1,i.dts=i.pts,64&r&&(i.dts=(14&t[n+14])<<27|(255&t[n+15])<<20|(254&t[n+16])<<12|(255&t[n+17])<<5|(254&t[n+18])>>>3,i.dts*=4,i.dts+=(6&t[n+18])>>>1)),i},c=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},h=function(t){for(var e,n=4+s(t),r=t.subarray(n),i=0,a=0,o=!1;a<r.byteLength-3;a++)if(1===r[a+2]){i=a+5;break}for(;i<r.byteLength;)switch(r[i]){case 0:if(0!==r[i-1]){i+=2;break}if(0!==r[i-2]){i++;break}a+3!==i-2&&(e=c(31&r[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(o=!0));do i++;while(1!==r[i]&&i<r.length);a=i-2,i+=3;break;case 1:if(0!==r[i-1]||0!==r[i-2]){i+=3;break}e=c(31&r[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(o=!0),a=i-2,i+=3;break;default:i+=3}return r=r.subarray(a),i-=a,a=0,r&&r.byteLength>3&&(e=c(31&r[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(o=!0)),o};e.exports={parseType:o,parsePat:u,parsePmt:l,parsePayloadUnitStartIndicator:a,parsePesType:f,parsePesTime:d,videoPacketContainsKeyFrame:h}},{}],38:[function(t,e,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],39:[function(t,e,n){"use strict";var r=t(42),i=8589934592,a=4294967296,s=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>a;)t+=n*i;return t},o=function(t){var e,n;o.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=s(t.dts,n),t.pts=s(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};o.prototype=new r,e.exports={TimestampRolloverStream:o,handleRollover:s}},{}],40:[function(t,e,n){"use strict";var r,i,a,s;r=function(t,e){var n,a,s,o,u,l=[];if(!e.length)return null;for(n=0;n<t.byteLength;)a=t[n]<<24,a|=t[n+1]<<16,a|=t[n+2]<<8,a|=t[n+3],s=i(t.subarray(n+4,n+8)),o=a>1?n+a:t.byteLength,s===e[0]&&(1===e.length?l.push(t.subarray(n+8,o)):(u=r(t.subarray(n+8,o),e.slice(1)),u.length&&(l=l.concat(u)))),n=o;return l},i=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},a=function(t){var e={},n=r(t,["moov","trak"]);return n.reduce(function(t,e){var n,i,a,s,o;return(n=r(e,["tkhd"])[0])?(i=n[0],a=0===i?12:20,s=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],(o=r(e,["mdia","mdhd"])[0])?(i=o[0],a=0===i?12:20,t[s]=o[a]<<24|o[a+1]<<16|o[a+2]<<8|o[a+3],t):null):null},e)},s=function(t,e){var n,i,a;return n=r(e,["moof","traf"]),i=[].concat.apply([],n.map(function(e){return r(e,["tfhd"]).map(function(n){var i,a,s;return i=n[4]<<24|n[5]<<16|n[6]<<8|n[7],a=t[i]||9e4,s=r(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=t[4]<<24|t[5]<<16|t[6]<<8|t[7],1===e&&(n*=Math.pow(2,32),n+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),n})[0],s=s||1/0,s/a})})),a=Math.min.apply(null,i),isFinite(a)?a:0},e.exports={parseType:i,timescale:a,startTime:s}},{}],41:[function(t,e,n){"use strict";var r=t(38),i=t(39).handleRollover,a={};a.ts=t(37),a.aac=t(36);var s=9e4,o=188,u=71,l=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},f=function(t,e){for(var n,r,i=0,s=o;s<t.byteLength;)if(t[i]!==u||t[s]!==u)i++,s++;else{switch(n=t.subarray(i,s),r=a.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=a.ts.parsePat(n));break;case"pmt":e.table||(e.table=a.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=o,s+=o}},d=function(t,e,n){for(var r,i,s,l,f,d=0,c=o,h=!1;c<t.byteLength;)if(t[d]!==u||t[c]!==u)d++,c++;else{switch(r=t.subarray(d,c),i=a.ts.parseType(r,e.pid)){case"pes":s=a.ts.parsePesType(r,e.table),l=a.ts.parsePayloadUnitStartIndicator(r),"audio"===s&&l&&(f=a.ts.parsePesTime(r),f&&(f.type="audio",n.audio.push(f),h=!0))}if(h)break;d+=o,c+=o}for(c=t.byteLength,d=c-o,h=!1;d>=0;)if(t[d]!==u||t[c]!==u)d--,c--;else{switch(r=t.subarray(d,c),i=a.ts.parseType(r,e.pid)){case"pes":s=a.ts.parsePesType(r,e.table),l=a.ts.parsePayloadUnitStartIndicator(r),"audio"===s&&l&&(f=a.ts.parsePesTime(r),f&&(f.type="audio",n.audio.push(f),h=!0))}if(h)break;d-=o,c-=o}},c=function(t,e,n){for(var r,i,s,l,f,d,c,h,p=0,g=o,m=!1,y={data:[],size:0};g<t.byteLength;)if(t[p]!==u||t[g]!==u)p++,g++;else{switch(r=t.subarray(p,g),i=a.ts.parseType(r,e.pid)){case"pes":if(s=a.ts.parsePesType(r,e.table),l=a.ts.parsePayloadUnitStartIndicator(r),"video"===s&&(l&&!m&&(f=a.ts.parsePesTime(r),f&&(f.type="video",n.video.push(f),m=!0)),!n.firstKeyFrame)){if(l&&0!==y.size){for(d=new Uint8Array(y.size),c=0;y.data.length;)h=y.data.shift(),d.set(h,c),c+=h.byteLength;a.ts.videoPacketContainsKeyFrame(d)&&(n.firstKeyFrame=a.ts.parsePesTime(d),n.firstKeyFrame.type="video"),y.size=0}y.data.push(r),y.size+=r.byteLength}}if(m&&n.firstKeyFrame)break;p+=o,g+=o}for(g=t.byteLength,p=g-o,m=!1;p>=0;)if(t[p]!==u||t[g]!==u)p--,g--;else{switch(r=t.subarray(p,g),i=a.ts.parseType(r,e.pid)){case"pes":s=a.ts.parsePesType(r,e.table),l=a.ts.parsePayloadUnitStartIndicator(r),
    "video"===s&&l&&(f=a.ts.parsePesTime(r),f&&(f.type="video",n.video.push(f),m=!0))}if(m)break;p-=o,g-=o}},h=function(t,e){if(t.audio&&t.audio.length){var n=e;"undefined"==typeof n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=i(t.dts,n),t.pts=i(t.pts,n),t.dtsTime=t.dts/s,t.ptsTime=t.pts/s})}if(t.video&&t.video.length){var r=e;if("undefined"==typeof r&&(r=t.video[0].dts),t.video.forEach(function(t){t.dts=i(t.dts,r),t.pts=i(t.pts,r),t.dtsTime=t.dts/s,t.ptsTime=t.pts/s}),t.firstKeyFrame){var a=t.firstKeyFrame;a.dts=i(a.dts,r),a.pts=i(a.pts,r),a.dtsTime=a.dts/s,a.ptsTime=a.dts/s}}},p=function(t){for(var e,n=!1,r=0,i=null,o=null,u=0,l=0;t.length-l>=3;){var f=a.aac.parseType(t,l);switch(f){case"timed-metadata":if(t.length-l<10){n=!0;break}if(u=a.aac.parseId3TagSize(t,l),u>t.length){n=!0;break}null===o&&(e=t.subarray(l,l+u),o=a.aac.parseAacTimestamp(e)),l+=u;break;case"audio":if(t.length-l<7){n=!0;break}if(u=a.aac.parseAdtsSize(t,l),u>t.length){n=!0;break}null===i&&(e=t.subarray(l,l+u),i=a.aac.parseSampleRate(e)),r++,l+=u;break;default:l++}if(n)return null}if(null===i||null===o)return null;var d=s/i,c={audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*r*d,pts:o+1024*r*d}]};return c},g=function(t){var e={pid:null,table:null},n={};f(t,e);for(var i in e.table)if(e.table.hasOwnProperty(i)){var a=e.table[i];switch(a){case r.H264_STREAM_TYPE:n.video=[],c(t,e,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],d(t,e,n),0===n.audio.length&&delete n.audio}}return n},m=function(t,e){var n,r=l(t);return n=r?p(t):g(t),n&&(n.audio||n.video)?(h(n,e),n):null};e.exports={inspect:m}},{}],42:[function(t,e,n){"use strict";var r=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var r;return!!t[e]&&(r=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(r,1),r>-1)},this.trigger=function(e){var n,r,i,a;if(n=t[e])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){t={}}}};r.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},r.prototype.push=function(t){this.trigger("data",t)},r.prototype.flush=function(t){this.trigger("done",t)},e.exports=r},{}],43:[function(t,e,n){"use strict";var r;e.exports=function(t){var e=r[t.byteLength%16||0],n=new Uint8Array(t.byteLength+e.length);return n.set(t),n.set(e,t.byteLength),n},r=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],44:[function(t,e,n){"use strict";n.pad=t(43),n.unpad=t(45)},{}],45:[function(t,e,n){"use strict";e.exports=function(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}},{}],46:[function(t,e,n){!function(t){var r={buildAbsoluteURL:function(t,e){if(e=e.trim(),/^[a-z]+:/i.test(e))return e;var n=null,i=null,a=/^([^#]*)(.*)$/.exec(e);a&&(i=a[2],e=a[1]);var s=/^([^\?]*)(.*)$/.exec(e);s&&(n=s[2],e=s[1]);var o=/^([^#]*)(.*)$/.exec(t);o&&(t=o[1]);var u=/^([^\?]*)(.*)$/.exec(t);u&&(t=u[1]);var l=/^(([a-z]+:)?\/\/[^:\/]+(:[0-9]+)?)?(\/?.*)$/i.exec(t);if(!l)throw new Error("Error trying to parse base URL.");var f=l[2]||"",d=l[1]||"",c=l[4];0!==c.indexOf("/")&&""!==d&&(c="/"+c);var h=null;return h=/^\/\//.test(e)?f+"//"+r.buildAbsolutePath("",e.substring(2)):/^\//.test(e)?d+"/"+r.buildAbsolutePath("",e.substring(1)):r.buildAbsolutePath(d+c,e),n&&(h+=n),i&&(h+=i),h},buildAbsolutePath:function(t,e){for(var n,r,i=e,a="",s=t.replace(/[^\/]*$/,i.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),o=0;r=s.indexOf("/../",o),r>-1;o=r+n)n=/^\/(?:\.\.\/)*/.exec(s.slice(r))[0].length,a=(a+s.substring(o,r)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return a+s.substr(o)}};"object"==typeof n&&"object"==typeof e?e.exports=r:"function"==typeof define&&define.amd?define([],function(){return r}):"object"==typeof n?n.URLToolkit=r:t.URLToolkit=r}(this)},{}],47:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a=t(29),s=i(a),o="undefined"!=typeof window?window.videojs:"undefined"!=typeof r?r.videojs:null,u=i(o),l=function(t){Object.defineProperties(t.frame,{id:{get:function(){return u["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return u["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return u["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},f=function(t){var e=void 0;return e=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},d=function(t,e,n){var r=s["default"].WebKitDataCue||s["default"].VTTCue;e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new r(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n&&!function(){var e=f(t.mediaSource_.duration);n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var n=new r(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,l(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length&&!function(){for(var n=t.metadataTrack_.cues,r=[],i=0;i<n.length;i++)n[i]&&r.push(n[i]);var a=r.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),s=Object.keys(a).sort(function(t,e){return Number(t)-Number(e)});s.forEach(function(t,n){var r=a[t],i=Number(s[n+1])||e;r.forEach(function(t){t.endTime=i})})}()}()};n["default"]={addTextTrackData:d,durationOfVideo:f},e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){return/mp4a\.\d+.\d+/i.test(t)},i=function(t){return/avc1\.[\da-f]+/i.test(t)},a=function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),i=n[1].replace(/"/g,"").trim();e.parameters[r]=i}}),e},s=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){var r=("00"+Number(e).toString(16)).slice(-2),i=("00"+Number(n).toString(16)).slice(-2);return"avc1."+r+"00"+i})})};n["default"]={isAudioCodec:r,parseContentType:a,isVideoCodec:i,translateLegacyCodecs:s},e.exports=n["default"]},{}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e,n){var r=e.player_;if(n.captions&&n.captions.length){t.inbandTextTracks_||(t.inbandTextTracks_={});for(var i in n.captionStreams)if(!t.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var a=r.textTracks().getTrackById(i);a?t.inbandTextTracks_[i]=a:t.inbandTextTracks_[i]=r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n["default"]=r,e.exports=n["default"]},{}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};n["default"]=r,e.exports=n["default"]},{}],51:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},l=t(28),f=i(l),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof r?r.videojs:null,c=i(d),h=t(52),p=i(h),g=t(50),m=i(g),y=t(48),v=function(t){function e(){var t=this;a(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=f["default"].getElementById(e.swfId),t.player_=(0,c["default"])(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.swfObj&&t.swfObj.vjs_load()})}return s(e,t),o(e,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(t){var e=(0,y.parseContentType)(t),n=void 0;if("video/mp2t"!==e.type&&"audio/mp2t"!==e.type)throw new Error("NotSupportedError (Video.js)");return n=new p["default"](this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(t){"network"===t?this.tech_.error(2):"decode"===t&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),e}(c["default"].EventTarget);n["default"]=v;try{Object.defineProperty(v.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(t){var e=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",t),t<n)for(e=0;e<this.sourceBuffers.length;e++)this.sourceBuffers[e].remove(t,n);return t}})}catch(_){v.prototype.duration=NaN}for(var b in m["default"])v[b]=m["default"][b];e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},l=t(29),f=i(l),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof r?r.videojs:null,c=i(d),h=t(66),p=i(h),g=t(55),m=i(g),y=t(49),v=i(y),_=t(47),b=t(53),T=i(b),S=t(80),w=i(S),k=t(50),O=i(k),E=function(){var e=void 0;try{e=t.resolve("./flash-transmuxer-worker")}catch(n){}return e},A=function(t){f["default"].setTimeout(t,O["default"].TIME_BETWEEN_CHUNKS)},L=function(){return Math.random().toString(36).slice(2,8)},P=function(t,e){("number"!=typeof e||e<0)&&(e=0);var n=Math.pow(10,e);return Math.round(t*n)/n},I=function(t){function e(t){var n=this;a(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var r=void 0;this.chunkSize_=O["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=t,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,r=f["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(p["default"].getFlvHeader())));var i=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+i+L(),this.flashEncodedDataName_="vjs_flashEncodedData_"+i+L(),f["default"][this.flashEncodedHeaderName_]=function(){return delete f["default"][n.flashEncodedHeaderName_],r},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,w["default"])(T["default"],E()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(t){"data"===t.data.action&&n.receiveBuffer_(t.data.segment)},this.one("updateend",function(){n.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return c["default"].createTimeRange();var t=this.mediaSource_.swfObj.vjs_getProperty("buffered");return t&&t.length&&(t[0][0]=P(t[0][0],3),t[0][1]=P(t[0][1],3)),c["default"].createTimeRanges(t)}}),this.mediaSource_.player_.on("seeked",function(){if((0,m["default"])(0,1/0,n.metadataTrack_),n.inbandTextTracks_)for(var t in n.inbandTextTracks_)(0,m["default"])(0,1/0,n.inbandTextTracks_[t])});var s=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",s),this.mediaSource_.player_.tech_.hls.on("dispose",function(){n.transmuxer_.terminate(),n.mediaSource_.player_.tech_.off("hls-reset",s)})}return s(e,t),o(e,[{key:"appendBuffer",value:function(t){var e=void 0;if(this.updating)throw e=new Error("SourceBuffer.append() cannot be called while an update is in progress"),e.name="InvalidStateError",e.code=11,e;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(t,e){if((0,m["default"])(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,m["default"])(t,e,this.inbandTextTracks_[n]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var e=this;(0,v["default"])(this,this.mediaSource_,t),(0,_.addTextTrackData)(this,t.captions,t.metadata),A(function(){var n=e.convertTagsToData_(t);0===e.buffer_.length&&A(e.processBuffer_.bind(e)),n&&(e.buffer_.push(n),e.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var t=this,e=O["default"].BYTES_PER_CHUNK;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));var n=this.buffer_[0].subarray(0,e);n.byteLength<e||this.buffer_[0].byteLength===e?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(e),this.bufferSize_-=n.byteLength;for(var r=[],i=n.byteLength,a=0;a<i;a++)r.push(String.fromCharCode(n[a]));var s=f["default"].btoa(r.join(""));f["default"][this.flashEncodedDataName_]=function(){return A(t.processBuffer_.bind(t)),delete f["default"][t.flashEncodedDataName_],s},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function(t){var e=0,n=this.mediaSource_.tech_,r=0,i=void 0,a=t.tags.videoTags,s=t.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||s.length)){var o=a[0]||{pts:1/0},u=s[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,o.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(r=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(r=Math.max(r,n.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var l=a.length;if(l&&a[l-1].pts>=r){for(;--l;){var f=a[l];if(!(f.pts>r)&&(f.keyFrame||f.metaDataTag))break}for(;l;){var d=a[l-1];if(!d.metaDataTag)break;l--}}var c=a.slice(l),h=void 0;for(h=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,c.length&&(h=Math.min(h,c[0].pts)),l=0;l<s.length&&!(s[l].pts>=h);)l++;var p=s.slice(l);p.length&&(this.audioBufferEnd_=p[p.length-1].pts),c.length&&(this.videoBufferEnd_=c[c.length-1].pts);var g=this.getOrderedTags_(c,p);if(0!==g.length){if(g[0].pts<r&&n.seeking()){var m=1/30,y=n.currentTime(),v=(r-g[0].pts)/1e3,_=y-v;_<m&&(_=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(_)}catch(b){}}for(var T=0;T<g.length;T++)e+=g[T].bytes.byteLength;i=new Uint8Array(e);for(var T=0,S=0;T<g.length;T++)i.set(g[T].bytes,S),S+=g[T].bytes.byteLength;return i}}},{key:"getOrderedTags_",value:function(t,e){for(var n=void 0,r=[];t.length||e.length;)n=t.length?e.length&&e[0].dts<t[0].dts?e.shift():t.shift():e.shift(),r.push(n);return r}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),e}(c["default"].EventTarget);n["default"]=I,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t(29),o=r(s),u=t(66),l=r(u),f=function(t){t.on("data",function(t){o["default"].postMessage({action:"data",segment:t})}),t.on("done",function(t){o["default"].postMessage({action:"done"})})},d=function(){function t(e){i(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l["default"].Transmuxer(this.options),f(this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),t}(),c=function(t){t.onmessage=function(t){return"init"===t.data.action&&t.data.options?void(this.messageHandlers=new d(t.data.options)):(this.messageHandlers||(this.messageHandlers=new d),void(t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)))}};n["default"]=function(t){return new c(t)},e.exports=n["default"]},{}],54:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},l=t(29),f=i(l),d=t(28),c=i(d),h="undefined"!=typeof window?window.videojs:"undefined"!=typeof r?r.videojs:null,p=i(h),g=t(58),m=i(g),y=t(47),v=t(48),_=function(t){function e(){var t=this;a(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var n=void 0;this.nativeMediaSource_=new f["default"].MediaSource;for(n in this.nativeMediaSource_)n in e.prototype||"function"!=typeof this.nativeMediaSource_[n]||(this[n]=this.nativeMediaSource_[n].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){if(this.duration_=t,t!==1/0)return void(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?p["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var n=!1,r=!0,i=0;i<t.player_.audioTracks().length;i++){var a=t.player_.audioTracks()[i];if(a.enabled&&"main"!==a.kind){n=!0,r=!1;break}}t.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,r=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=r,r))return;t.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},this),this.on("sourceopen",function(e){var n=c["default"].querySelector('[src="'+t.url_+'"]');n&&(t.player_=(0,p["default"])(n.parentNode),t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_))}),this.on("sourceended",function(e){for(var n=(0,y.durationOfVideo)(t.duration),r=0;r<t.sourceBuffers.length;r++){var i=t.sourceBuffers[r],a=i.metadataTrack_&&i.metadataTrack_.cues;a&&a.length&&(a[a.length-1].endTime=n)}}),this.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return s(e,t),o(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=(0,v.parseContentType)(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(0,v.translateLegacyCodecs)(r),r=r.filter(function(t){return(0,v.isAudioCodec)(t)||(0,v.isVideoCodec)(t)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),e=new m["default"](this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(p["default"].EventTarget);n["default"]=_,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],55:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e,n){var r=void 0,i=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime<=e&&i.endTime>=t&&n.removeCue(i)};n["default"]=r,e.exports=n["default"]},{}],56:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t(29),o=r(s),u=t(74),l=r(u),f=function(t){t.on("data",function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var n=t.data;t.data=n.buffer,o["default"].postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){o["default"].postMessage({action:"caption",data:t})}),t.on("done",function(t){o["default"].postMessage({action:"done"})}),t.on("gopInfo",function(t){o["default"].postMessage({action:"gopInfo",gopInfo:t})})},d=function(){function t(e){i(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l["default"].Transmuxer(this.options),f(this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}(),c=function(t){t.onmessage=function(t){return"init"===t.data.action&&t.data.options?void(this.messageHandlers=new d(t.data.options)):(this.messageHandlers||(this.messageHandlers=new d),void(t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)))}};n["default"]=function(t){return new c(t)},e.exports=n["default"]},{}],57:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(29),a=r(i),s=t(51),o=r(s),u=t(54),l=r(u),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,d=r(f),c=0,h={mode:"auto"};d["default"].mediaSources={};var p=function(t,e){var n=d["default"].mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},g=function(){return!!a["default"].MediaSource&&!!a["default"].MediaSource.isTypeSupported&&a["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},m=function(t){var e=d["default"].mergeOptions(h,t);if(this.MediaSource={open:p,supportsNativeMediaSources:g},"html5"===e.mode||"auto"===e.mode&&g())return new l["default"];if(d["default"].getTech("Flash"))return new o["default"];throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};n.MediaSource=m,m.open=p,m.supportsNativeMediaSources=g;var y={createObjectURL:function(t){var e="blob:vjs-media-source/",n=void 0;return t instanceof l["default"]?(n=a["default"].URL.createObjectURL(t.nativeMediaSource_),t.url_=n,n):t instanceof o["default"]?(n=e+c,c++,d["default"].mediaSources[n]=t,n):(n=a["default"].URL.createObjectURL(t),t.url_=n,n)}};n.URL=y,d["default"].MediaSource=m,d["default"].URL=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,l=r(u),f=t(49),d=r(f),c=t(55),h=r(c),p=t(47),g=t(80),m=r(g),y=t(56),v=r(y),_=t(48),b=function(){var e=void 0;try{e=t.resolve("./transmuxer-worker")}catch(n){}return e},T=function(t,e){var n=t.addSourceBuffer(e),r=Object.create(null);r.updating=!1,r.realBuffer_=n;var i=function(t){"function"==typeof n[t]?r[t]=function(){return n[t].apply(n,arguments)}:"undefined"==typeof r[t]&&Object.defineProperty(r,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})};for(var a in n)i(a);return r},S=function(t,e,n){if(!e||!t.length)return[];var r=Math.ceil(9e4*(e.currentTime()-n+3)),i=void 0;for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)};n.gopsSafeToAlignWith=S;var w=function(t,e,n){if(!e.length)return t;if(n)return e.slice();var r=e[0].pts,i=0;for(i;i<t.length&&!(t[i].pts>=r);i++);return t.slice(0,i).concat(e)};n.updateGopBuffer=w;var k=function(t,e,n,r){for(var i=Math.ceil(9e4*(e-r)),a=Math.ceil(9e4*(n-r)),s=t.slice(),o=t.length;o--&&!(t[o].pts<=a););
    if(o===-1)return s;for(var u=o+1;u--&&!(t[u].pts<=i););return u=Math.max(u,0),s.splice(u,o-u+1),s};n.removeGopBuffer=k;var O=function(t){function e(t,n){var r=this;i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,l["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=t,this.codecs_=n,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=l["default"].browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(t){(0,_.isAudioCodec)(t)?r.audioCodec_=t:(0,_.isVideoCodec)(t)&&(r.videoCodec_=t)}),this.transmuxer_=(0,m["default"])(v["default"],b()),this.transmuxer_.postMessage({action:"init",options:a}),this.transmuxer_.onmessage=function(t){return"data"===t.data.action?r.data_(t):"done"===t.data.action?r.done_(t):"gopInfo"===t.data.action?r.appendGopInfo_(t):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var t=null,e=null,n=0,r=[],i=[];if(!this.videoBuffer_&&!this.audioBuffer_)return l["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return l["default"].createTimeRange();for(var a=this.videoBuffer_.buffered,s=this.audioBuffer_.buffered,o=a.length;o--;)r.push({time:a.start(o),type:"start"}),r.push({time:a.end(o),type:"end"});for(o=s.length;o--;)r.push({time:s.start(o),type:"start"}),r.push({time:s.end(o),type:"end"});for(r.sort(function(t,e){return t.time-e.time}),o=0;o<r.length;o++)"start"===r[o].type?(n++,2===n&&(t=r[o].time)):"end"===r[o].type&&(n--,1===n&&(e=r[o].time)),null!==t&&null!==e&&(i.push([t,e]),t=null,e=null);return l["default"].createTimeRanges(i)}})}return a(e,t),s(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),(0,d["default"])(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){return"closed"===this.mediaSource_.readyState?void(this.pendingBuffers_.length=0):void this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var r=null;if(t.mediaSource_[n+"Buffer_"])r=t.mediaSource_[n+"Buffer_"],r.updating=!1;else{var i=n+"Codec_",a=n+'/mp4;codecs="'+t[i]+'"';r=T(t.mediaSource_.nativeMediaSource_,a),t.mediaSource_[n+"Buffer_"]=r}t[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(i){r.addEventListener(i,function(){if("audio"!==n||!t.audioDisabled_){"updateend"===i&&(t[n+"Buffer_"].updating=!1);var r=e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)});return r?t.trigger(i):void 0}})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:S(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=w(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=k(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),(0,h["default"])(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,h["default"])(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,r=e.data,i=e.initSegment;return t[n].segments.push(r),t[n].bytes+=r.byteLength,t[n].initSegment=i,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),(0,p.addTextTrackData)(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,r=void 0;if(t.bytes){r=new Uint8Array(t.bytes),t.segments.forEach(function(t){r.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(r)}catch(i){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:i.message,originalError:i})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(l["default"].EventTarget);n["default"]=O}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(t,e,n){"use strict";var r,i=t(79);r=function(){var t=new Uint8Array,e=0;r.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],r=t[e+5],i=(16&r)>>4;return i?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,r=t[e+4]<<3,i=6144&t[e+3];return i|r|n},this.push=function(n){var r,i,a,s,o=0,u=0;for(t.length?(s=t.length,t=new Uint8Array(n.byteLength+s),t.set(t.subarray(0,s)),t.set(n,s)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(t[u]&!0&&240===(240&t[u+1])){if(t.length-u<7)break;if(o=this.parseAdtsSize(t,u),o>t.length)break;a={type:"audio",data:t.subarray(u,u+o),pts:e,dts:e},this.trigger("data",a),u+=o}else u++;else{if(t.length-u<10)break;if(o=this.parseId3TagSize(t,u),o>t.length)break;i={type:"timed-metadata",data:t.subarray(u,u+o)},this.trigger("data",i),u+=o}r=t.length-u,t=r>0?t.subarray(u):new Uint8Array}},r.prototype=new i,e.exports=r},{}],60:[function(t,e,n){"use strict";var r,i=t(79),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=function(){var t;r.prototype.init.call(this),this.push=function(e){var n,r,i,s,o,u,l=0,f=0;if("audio"===e.type)for(t?(s=t,t=new Uint8Array(s.byteLength+e.data.byteLength),t.set(s),t.set(e.data,s.byteLength)):t=e.data;l+5<t.length;)if(255===t[l]&&240===(246&t[l+1])){if(r=2*(1&~t[l+1]),n=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,o=1024*((3&t[l+6])+1),u=9e4*o/a[(60&t[l+2])>>>2],i=l+n,t.byteLength<i)return;if(this.trigger("data",{pts:e.pts+f*u,dts:e.dts+f*u,sampleCount:o,audioobjecttype:(t[l+2]>>>6&3)+1,channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:a[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+r,i)}),t.byteLength===i)return void(t=void 0);f++,t=t.subarray(i)}else l++},this.flush=function(){this.trigger("done")}},r.prototype=new i,e.exports=r},{}],61:[function(t,e,n){"use strict";var r,i,a,s=t(79),o=t(78);i=function(){var t,e,n=0;i.prototype.init.call(this),this.push=function(r){var i;for(e?(i=new Uint8Array(e.byteLength+r.data.byteLength),i.set(e),i.set(r.data,e.byteLength),e=i):e=r.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do t++;while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}},i.prototype=new s,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},r=function(){var t,e,n,s,u,l,f,d=new i;r.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,s=t.dts,d.push(t))},d.on("data",function(r){var i={trackId:e,pts:n,dts:s,data:r};switch(31&r[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=u(r.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=u(r.subarray(1)),i.config=l(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",i)}),d.on("done",function(){t.trigger("done")}),this.flush=function(){d.flush()},f=function(t,e){var n,r,i=8,a=8;for(n=0;n<t;n++)0!==a&&(r=e.readExpGolomb(),a=(i+r+256)%256),i=0===a?i:a},u=function(t){for(var e,n,r=t.byteLength,i=[],a=1;a<r-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===i[0]&&(s++,i.shift()),n[a]=t[s];return n},l=function(t){var e,n,r,i,s,u,l,d,c,h,p,g,m,y,v=0,_=0,b=0,T=0,S=1;if(e=new o(t),n=e.readUnsignedByte(),i=e.readUnsignedByte(),r=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),a[n]&&(s=e.readUnsignedExpGolomb(),3===s&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==s?8:12,y=0;y<p;y++)e.readBoolean()&&(y<6?f(16,e):f(64,e));if(e.skipUnsignedExpGolomb(),u=e.readUnsignedExpGolomb(),0===u)e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),y=0;y<l;y++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),d=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),h=e.readBits(1),0===h&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(v=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),T=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(m=e.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}g&&(S=g[0]/g[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(d+1)-2*v-2*_)*S),height:(2-h)*(c+1)*16-2*b-2*T}}},r.prototype=new s,e.exports={H264Stream:r,NalByteStream:i}},{}],62:[function(t,e,n){var r=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(t){for(var e=[];t--;)e.push(0);return e},s=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=new Uint8Array(t[n].reduce(function(t,e){return t.concat(e)},[])),e},{})},o={96e3:[r,[227,64],a(154),[56]],88200:[r,[231],a(170),[56]],64e3:[r,[248,192],a(240),[56]],48e3:[r,[255,192],a(268),[55,148,128],a(54),[112]],44100:[r,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[r,[255,192],a(268),[55,234],a(226),[112]],24e3:[r,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[r,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[i,a(268),[3,121,16],a(47),[7]]};e.exports=s(o)},{}],63:[function(t,e,n){"use strict";var r=t(79),i=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}};i.prototype=new r,i.prototype.flush=function(t){var e,n,r,i,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)n=this.pendingCaptions[r],n.startTime=n.startPts-i,n.startTime/=9e4,n.endTime=n.endPts-i,n.endTime/=9e4,a.captionStreams[n.stream]=!0,a.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)e=this.pendingMetadata[r],e.cueTime=e.pts-i,e.cueTime/=9e4,a.metadata.push(e);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},e.exports=i},{}],64:[function(t,e,n){"use strict";var r=t(65),i=function(t,e,n){var i,a,s,o=new Uint8Array(9),u=new DataView(o.buffer);return t=t||0,e=void 0===e||e,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(e?4:0)|(n?1:0)),u.setUint32(5,o.byteLength),t<=0?(a=new Uint8Array(o.byteLength+4),a.set(o),a.set([0,0,0,0],o.byteLength),a):(i=new r(r.METADATA_TAG),i.pts=i.dts=0,i.writeMetaDataDouble("duration",t),s=i.finalize().length,a=new Uint8Array(o.byteLength+s),a.set(o),a.set(u.byteLength,s),a)};e.exports=i},{}],65:[function(t,e,n){"use strict";var r;r=function(t,e){var n,i=0,a=16384,s=function(t,e){var n,r=t.position+e;r<t.bytes.byteLength||(n=new Uint8Array(2*r),n.set(t.bytes.subarray(0,t.position),0),t.bytes=n,t.view=new DataView(t.bytes.buffer))},o=r.widthBytes||new Uint8Array("width".length),u=r.heightBytes||new Uint8Array("height".length),l=r.videocodecidBytes||new Uint8Array("videocodecid".length);if(!r.widthBytes){for(n=0;n<"width".length;n++)o[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)u[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)l[n]="videocodecid".charCodeAt(n);r.widthBytes=o,r.heightBytes=u,r.videocodecidBytes=l}switch(this.keyFrame=!1,t){case r.VIDEO_TAG:this.length=16,a*=6;break;case r.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case r.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,n){var r,i=e||0;n=n||t.byteLength,r=i+n,s(this,n),this.bytes.set(t.subarray(i,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){s(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){s(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,n;this.length===i+4?this.length-=4:i>0&&(e=i+4,n=this.length-e,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+n))),i=0},this.writeMetaDataDouble=function(t,e){var n;if(s(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(o,this.position),this.position+=5;else if("height"===t)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(l,this.position),this.position+=12;else for(n=0;n<t.length;n++)this.bytes[this.position]=t.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(t,e){var n;for(s(this,2),this.view.setUint16(this.position,t.length),this.position+=2,n=0;n<t.length;n++)s(this,1),this.bytes[this.position]=t.charCodeAt(n),this.position++;s(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var t,n;switch(this.bytes[0]){case r.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case r.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case r.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,s(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=r.frameTime(this.bytes),this}},r.AUDIO_TAG=8,r.VIDEO_TAG=9,r.METADATA_TAG=18,r.isAudioFrame=function(t){return r.AUDIO_TAG===t[0]},r.isVideoFrame=function(t){return r.VIDEO_TAG===t[0]},r.isMetaData=function(t){return r.METADATA_TAG===t[0]},r.isKeyFrame=function(t){return r.isVideoFrame(t)?23===t[11]:!!r.isAudioFrame(t)||!!r.isMetaData(t)},r.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,e|=t[6]<<0,e|=t[7]<<24},e.exports=r},{}],66:[function(t,e,n){e.exports={tag:t(65),Transmuxer:t(68),getFlvHeader:t(64)}},{}],67:[function(t,e,n){"use strict";var r=function(){var t=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return t.list.length}})};e.exports=r},{}],68:[function(t,e,n){"use strict";var r,i,a,s,o,u,l=t(79),f=t(65),d=t(70),c=t(60),h=t(61).H264Stream,p=t(63),g=t(67);s=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},o=function(t,e){var n=new f(f.METADATA_TAG);return n.dts=e,n.pts=e,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",t.width),n.writeMetaDataDouble("height",t.height),n},u=function(t,e){var n,r=new f(f.VIDEO_TAG,!0);for(r.dts=e,r.pts=e,r.writeByte(1),r.writeByte(t.profileIdc),r.writeByte(t.profileCompatibility),r.writeByte(t.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(t.sps[0].length),r.writeBytes(t.sps[0]),r.writeByte(t.pps.length),n=0;n<t.pps.length;++n)r.writeShort(t.pps[n].length),r.writeBytes(t.pps[n]);return r},a=function(t){var e,n=[],r=[];a.prototype.init.call(this),this.push=function(e){s(t,e),t&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var i,a,s,o=new g;if(0===n.length)return void this.trigger("done","AudioSegmentStream");for(s=-(1/0);n.length;)i=n.shift(),r.length&&i.pts>=r[0]&&(s=r.shift(),this.writeMetaDataTags(o,s)),(t.extraData!==e||i.pts-s>=1e3)&&(this.writeMetaDataTags(o,i.pts),e=t.extraData,s=i.pts),a=new f(f.AUDIO_TAG),a.pts=i.pts,a.dts=i.dts,a.writeBytes(i.data),o.push(a.finalize());r.length=0,e=null,this.trigger("data",{track:t,tags:o.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,n){var r;r=new f(f.METADATA_TAG),r.pts=n,r.dts=n,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===t.channelcount),r.writeMetaDataDouble("audiosamplerate",t.samplerate),r.writeMetaDataDouble("audiosamplesize",16),e.push(r.finalize()),r=new f(f.AUDIO_TAG,!0),r.pts=n,r.dts=n,r.view.setUint16(r.position,t.extraData),r.position+=2,r.length=Math.max(r.length,r.position),e.push(r.finalize())},this.onVideoKeyFrame=function(t){r.push(t)}},a.prototype=new l,i=function(t){var e,n,r=[];i.prototype.init.call(this),this.finishFrame=function(r,i){if(i){if(e&&t&&t.newMetadata&&(i.keyFrame||0===r.length)){var a=o(e,i.dts).finalize(),s=u(t,i.dts).finalize();a.metaDataTag=s.metaDataTag=!0,r.push(a),r.push(s),t.newMetadata=!1,this.trigger("keyframe",i.dts)}i.endNalUnit(),r.push(i.finalize()),n=null}},this.push=function(e){s(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),r.push(e)},this.flush=function(){for(var i,a=new g;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return void this.trigger("done","VideoSegmentStream");for(;r.length;)i=r.shift(),"seq_parameter_set_rbsp"===i.nalUnitType?(t.newMetadata=!0,e=i.config,t.width=e.width,t.height=e.height,t.sps=[i.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(t.newMetadata=!0,t.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(a,n),n=new f(f.VIDEO_TAG),n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(a,n),this.trigger("data",{track:t,tags:a.list}),this.trigger("done","VideoSegmentStream")}},i.prototype=new l,r=function(t){var e,n,s,o,u,l,f,g,m,y,v,_,b=this;r.prototype.init.call(this),t=t||{},this.metadataStream=new d.MetadataStream,t.metadataStream=this.metadataStream,e=new d.TransportPacketStream,n=new d.TransportParseStream,s=new d.ElementaryStream,o=new d.TimestampRolloverStream("video"),u=new d.TimestampRolloverStream("audio"),l=new d.TimestampRolloverStream("timed-metadata"),f=new c,g=new h,_=new p(t),e.pipe(n).pipe(s),s.pipe(o).pipe(g),s.pipe(u).pipe(f),s.pipe(l).pipe(this.metadataStream).pipe(_),v=new d.CaptionStream,g.pipe(v).pipe(_),s.on("data",function(t){var e,n,r;if("metadata"===t.type){for(e=t.tracks.length;e--;)"video"===t.tracks[e].type?n=t.tracks[e]:"audio"===t.tracks[e].type&&(r=t.tracks[e]);n&&!m&&(_.numberOfTracks++,m=new i(n),g.pipe(m).pipe(_)),r&&!y&&(_.numberOfTracks++,y=new a(r),f.pipe(y).pipe(_),m&&m.on("keyframe",y.onVideoKeyFrame))}}),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},this.resetCaptions=function(){v.reset()},_.on("data",function(t){b.trigger("data",t)}),_.on("done",function(){b.trigger("done")})},r.prototype=new l,e.exports=r},{}],69:[function(t,e,n){"use strict";var r=4,i=128,a=t(79),s=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},a=0,s=0;e<t.byteLength&&t[e]!==i;){for(;255===t[e];)a+=255,e++;for(a+=t[e++];255===t[e];)s+=255,e++;if(s+=t[e++],!n.payload&&a===r){n.payloadType=a,n.payloadSize=s,n.payload=t.subarray(e,e+s);break}e+=s,a=0,s=0}return n},o=function(t){return 181!==t.payload[0]?null:49!==(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},u=function(t,e){var n,r,i,a,s=[];if(!(64&e[0]))return s;for(r=31&e[0],n=0;n<r;n++)i=3*n,a={type:3&e[i+2],pts:t},4&e[i+2]&&(a.ccData=e[i+3]<<8|e[i+4],s.push(a));return s},l=function(){l.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new g(0,0),new g(0,1),new g(1,0),new g(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};l.prototype=new a,l.prototype.push=function(t){var e,n;if("sei_rbsp"===t.nalUnitType&&(e=s(t.escapedRBSP),e.payloadType===r&&(n=o(e)))){if(t.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(this.ignoreNextEqualDts_=!1);this.captionPackets_=this.captionPackets_.concat(u(t.pts,n)),this.latestDts_=t.dts}},l.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,void this.ccStreams_.forEach(function(t){t.flush()},this)):void this.ccStreams_.forEach(function(t){t.flush()},this)},l.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},l.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},l.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},l.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)};var f={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},d=function(t){return null===t?"":(t=f[t]||t,String.fromCharCode(t))},c=14,h=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],p=function(){for(var t=[],e=c+1;e--;)t.push("");return t},g=function(t,e){g.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(t){var e,n,r,i,a;if(e=32639&t.ccData,e===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),r=e>>>8,i=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.topRow_=c-1,this.mode_="rollUp";else if(e===this.ROLL_UP_3_ROWS_)this.topRow_=c-2,this.mode_="rollUp";else if(e===this.ROLL_UP_4_ROWS_)this.topRow_=c-3,this.mode_="rollUp";else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[c]=this.nonDisplayed_[c].slice(0,-1):this.displayed_[c]=this.displayed_[c].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=p();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=p();else if(e===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(r,i))r=(3&r)<<8,a=d(r|i),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[c]=this.displayed_[c].slice(0,-1),r=(3&r)<<8,a=d(r|i),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&i)&&this.addFormatting(t.pts,["i"]),1===(1&i)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var s=h.indexOf(7968&e);s!==this.row_&&(this.clearFormatting(t.pts),this.row_=s),1&i&&this.formatting_.indexOf("u")===-1&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),a=d(r),a+=d(i),this[this.mode_](t.pts,a),this.column_+=a.length)}};g.prototype=new a,g.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},g.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=p(),this.nonDisplayed_=p(),this.lastControlCode_=null,this.column_=0,this.row_=c,this.formatting_=[]},g.prototype.setConstants=function(){
    0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},g.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},g.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},g.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},g.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},g.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},g.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},g.prototype.isNormalChar=function(t){return t>=32&&t<=127},g.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},g.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},g.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},g.prototype.rollUp=function(t,e){var n=this.displayed_[c];n+=e,this.displayed_[c]=n},g.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.topRow_;t<c;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[c]=""},g.prototype.paintOn=function(){},e.exports={CaptionStream:l,Cea608Stream:g}},{}],70:[function(t,e,n){"use strict";var r,i,a,s=t(79),o=t(69),u=t(72),l=t(73).TimestampRolloverStream,f=t(72),d=188,c=71;r=function(){var t=new Uint8Array(d),e=0;r.prototype.init.call(this),this.push=function(n){var r,i=0,a=d;for(e?(r=new Uint8Array(n.byteLength+e),r.set(t.subarray(0,e)),r.set(n,e),e=0):r=n;a<r.byteLength;)r[i]!==c||r[a]!==c?(i++,a++):(this.trigger("data",r.subarray(i,a)),i+=d,a+=d);i<r.byteLength&&(t.set(r.subarray(i),0),e=r.byteLength-i)},this.flush=function(){e===d&&t[0]===c&&(this.trigger("data",t),e=0),this.trigger("done")}},r.prototype=new s,i=function(){var t,e,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,r){var i=0;r.payloadUnitStartIndicator&&(i+=t[i]+1),"pat"===r.type?e(t.subarray(i),r):n(t.subarray(i),r)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],r.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=r.pmtPid},n=function(t,e){var n,i,a,s;if(1&t[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&t[1])<<8|t[2],i=3+n-4,a=(15&t[10])<<8|t[11],s=12+a;s<i;){var o=t[s],l=(31&t[s+1])<<8|t[s+2];o===u.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=l:o===u.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=l:o===u.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][l]=o),s+=((15&t[s+3])<<8|t[s+4])+5}e.programMapTable=r.programMapTable}},this.push=function(e){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(r+=e[r]+1),0===n.pid)n.type="pat",t(e.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,n]):this.processPes_(e,r,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},i.prototype=new s,i.STREAM_TYPES={h264:27,adts:15},a=function(){var t=this,e={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),n=t[7],192&n&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},s=function(e,n,r){var a,s=new Uint8Array(e.size),o={type:n},u=0,l=0,f=!1;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],s.set(a.data,l),l+=a.data.byteLength;i(s,o),f="video"===n||o.packetLength<=e.size,(r||f)&&(e.size=0,e.data.length=0),f&&t.trigger("data",o)}};a.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var t,a;switch(i.streamType){case u.H264_STREAM_TYPE:case f.H264_STREAM_TYPE:t=e,a="video";break;case u.ADTS_STREAM_TYPE:t=n,a="audio";break;case u.METADATA_STREAM_TYPE:t=r,a="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&s(t,a,!0),t.data.push(i),t.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=i.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[i.type]()},this.flush=function(){s(e,"video"),s(n,"audio"),s(r,"timed-metadata"),this.trigger("done")}},a.prototype=new s;var h={PAT_PID:0,MP2T_PACKET_LENGTH:d,TransportPacketStream:r,TransportParseStream:i,ElementaryStream:a,TimestampRolloverStream:l,CaptionStream:o.CaptionStream,Cea608Stream:o.Cea608Stream,MetadataStream:t(71)};for(var p in u)u.hasOwnProperty(p)&&(h[p]=u[p]);e.exports=h},{}],71:[function(t,e,n){"use strict";var r,i=t(79),a=t(72),s=function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},o=function(t,e,n){return decodeURIComponent(s(t,e,n))},u=function(t,e,n){return unescape(s(t,e,n))},l=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},f={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.value=o(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.url=o(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=u(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};r=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,s=[],o=0;if(r.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,r,a,u,d,c;if("timed-metadata"===t.type){if(t.dataAlignmentIndicator&&(o=0,s.length=0),0===s.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))return void(n.debug&&console.log("Skipping unrecognized metadata packet"));if(s.push(t),o+=t.data.byteLength,1===s.length&&(i=l(t.data.subarray(6,10)),i+=10),!(o<i)){for(e={data:new Uint8Array(i),frames:[],pts:s[0].pts,dts:s[0].dts},d=0;d<i;)e.data.set(s[0].data.subarray(0,i-d),d),d+=s[0].data.byteLength,o-=s[0].data.byteLength,s.shift();r=10,64&e.data[5]&&(r+=4,r+=l(e.data.subarray(10,14)),i-=l(e.data.subarray(16,20)));do{if(a=l(e.data.subarray(r+4,r+8)),a<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(c=String.fromCharCode(e.data[r],e.data[r+1],e.data[r+2],e.data[r+3]),u={id:c,data:e.data.subarray(r+10,r+a+10)},u.key=u.id,f[u.id]&&(f[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var h=u.data,p=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;p*=4,p+=3&h[7],u.timeStamp=p,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),r+=10,r+=a}while(r<i);this.trigger("data",e)}}}},r.prototype=new i,e.exports=r},{}],72:[function(t,e,n){arguments[4][38][0].apply(n,arguments)},{}],73:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{}],74:[function(t,e,n){e.exports={generator:t(75),Transmuxer:t(76).Transmuxer,AudioSegmentStream:t(76).AudioSegmentStream,VideoSegmentStream:t(76).VideoSegmentStream}},{}],75:[function(t,e,n){"use strict";var r,i,a,s,o,u,l,f,d,c,h,p,g,m,y,v,_,b,T,S,w,k,O,E,A,L,P,I,C,x,U,M,R,D,B,j,N=Math.pow(2,32)-1;!function(){var t;if(O={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in O)O.hasOwnProperty(t)&&(O[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),L=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),A=new Uint8Array([0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),C={video:P,audio:I},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),U=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),D=R,B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j=R,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(t){var e,n,r,i=[],a=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)a+=i[e].byteLength;for(n=new Uint8Array(a+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(t,4),e=0,a=8;e<i.length;e++)n.set(i[e],a),a+=i[e].byteLength;return n},i=function(){return r(O.dinf,r(O.dref,M))},a=function(t){return r(O.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},s=function(){return r(O.ftyp,E,A,E,L)},v=function(t){return r(O.hdlr,C[t])},o=function(t){return r(O.mdat,t)},y=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),r(O.mdhd,e)},m=function(t){return r(O.mdia,y(t),v(t.type),l(t))},u=function(t){return r(O.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},l=function(t){return r(O.minf,"video"===t.type?r(O.vmhd,x):r(O.smhd,U),i(),b(t))},f=function(t,e){for(var n=[],i=e.length;i--;)n[i]=S(e[i]);return r.apply(null,[O.moof,u(t)].concat(n))},d=function(t){for(var e=t.length,n=[];e--;)n[e]=p(t[e]);return r.apply(null,[O.moov,h(4294967295)].concat(n).concat(c(t)))},c=function(t){for(var e=t.length,n=[];e--;)n[e]=w(t[e]);return r.apply(null,[O.mvex].concat(n))},h=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(O.mvhd,e)},_=function(t){var e,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,a[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return r(O.sdtp,a)},b=function(t){return r(O.stbl,T(t),r(O.stts,j),r(O.stsc,D),r(O.stsz,B),r(O.stco,R))},function(){var t,e;T=function(n){return r(O.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):e(n))},t=function(t){var e,n=t.sps||[],i=t.pps||[],a=[],s=[];for(e=0;e<n.length;e++)a.push((65280&n[e].byteLength)>>>8),a.push(255&n[e].byteLength),a=a.concat(Array.prototype.slice.call(n[e]));for(e=0;e<i.length;e++)s.push((65280&i[e].byteLength)>>>8),s.push(255&i[e].byteLength),s=s.concat(Array.prototype.slice.call(i[e]));return r(O.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(O.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(a).concat([i.length]).concat(s))),r(O.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},e=function(t){return r(O.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),a(t))}}(),g=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return r(O.tkhd,e)},S=function(t){var e,n,i,a,s,o,u;return e=r(O.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(t.baseMediaDecodeTime/(N+1)),u=Math.floor(t.baseMediaDecodeTime%(N+1)),n=r(O.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),s=92,"audio"===t.type?(i=k(t,s),r(O.traf,e,n,i)):(a=_(t),i=k(t,a.length+s),r(O.traf,e,n,i,a))},p=function(t){return t.duration=t.duration||4294967295,r(O.trak,g(t),m(t))},w=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),r(O.trex,e)},function(){var t,e,n;n=function(t,e){var n=0,r=0,i=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(r=2),void 0!==t[0].flags&&(i=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|r|i|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var i,a,s,o;for(a=t.samples||[],e+=20+16*a.length,i=n(a,e),o=0;o<a.length;o++)s=a[o],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return r(O.trun,new Uint8Array(i))},t=function(t,e){var i,a,s,o;for(a=t.samples||[],e+=20+8*a.length,i=n(a,e),o=0;o<a.length;o++)s=a[o],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return r(O.trun,new Uint8Array(i))},k=function(n,r){return"audio"===n.type?t(n,r):e(n,r)}}(),e.exports={ftyp:s,mdat:o,moof:f,moov:d,initSegment:function(t){var e,n=s(),r=d(t);return e=new Uint8Array(n.byteLength+r.byteLength),e.set(n),e.set(r,n.byteLength),e}}},{}],76:[function(t,e,n){"use strict";var r,i,a,s,o,u,l,f,d,c,h,p=t(79),g=t(75),m=t(70),y=t(60),v=t(61).H264Stream,_=t(59),b=t(62),T=t(77),S=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],w=["width","height","profileIdc","levelIdc","profileCompatibility"],k=9e4;o=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},u=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},c=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},h=function(t){var e,n,r=0;for(e=0;e<t.length;e++)n=t[e],r+=n.data.byteLength;return r},i=function(t){var e=[],n=0,r=0,a=0,s=1/0;i.prototype.init.call(this),this.push=function(n){l(t,n),t&&S.forEach(function(e){t[e]=n[e]}),e.push(n)},this.setEarliestDts=function(e){r=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var r,i,a,s;return 0===e.length?void this.trigger("done","AudioSegmentStream"):(r=this.trimAdtsFramesByEarliestDts_(e),t.baseMediaDecodeTime=d(t),this.prefixWithSilence_(t,r),t.samples=this.generateSampleTable_(r),a=g.mdat(this.concatenateFrameData_(r)),e=[],i=g.moof(n,[t]),s=new Uint8Array(i.byteLength+a.byteLength),n++,s.set(i),s.set(a,i.byteLength),f(t),this.trigger("data",{track:t,boxes:s}),void this.trigger("done","AudioSegmentStream"))},this.prefixWithSilence_=function(t,e){var n,r,i,o=0,u=0,l=0,f=0;if(e.length&&(n=T.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(k/(t.samplerate/1024)),a&&s&&(u=n-Math.max(a,s),l=Math.floor(u/o),f=l*o),!(l<1||f>k/2))){for(r=b[t.samplerate],r||(r=e[0].data),i=0;i<l;i++)e.splice(i,0,{data:r});t.baseMediaDecodeTime-=Math.floor(T.videoTsToAudioTs(f,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,r=[];for(e=0;e<t.length;e++)n=t[e],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(t){var e,n,r=0,i=new Uint8Array(h(t));for(e=0;e<t.length;e++)n=t[e],i.set(n.data,r),r+=n.data.byteLength;return i}},i.prototype=new p,r=function(t,e){var n,i,a=0,s=[],u=[];e=e||{},r.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){l(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],w.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),s.push(e)},this.flush=function(){for(var n,r,i,o,c,h;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=this.groupNalsIntoFrames_(s),i=this.groupFramesIntoGops_(n),i[0][0].keyFrame||(r=this.getGopForFusion_(s[0],t),r?(i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=this.extendFirstKeyFrame_(i)),u.length){var p;if(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i),!p)return this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");f(t),i=p}l(t,i),t.samples=this.generateSampleTable_(i),c=g.mdat(this.concatenateNalData_(i)),t.baseMediaDecodeTime=d(t),this.trigger("processedGopsInfo",i.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),o=g.moof(a,[t]),h=new Uint8Array(o.byteLength+c.byteLength),a++,h.set(o),h.set(c,o.byteLength),this.trigger("data",{track:t,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){f(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,r,i,a,s,o=45e3,u=1e4,l=1/0;for(s=0;s<this.gopCache_.length;s++)a=this.gopCache_[s],i=a.gop,t.pps&&c(t.pps[0],a.pps[0])&&t.sps&&c(t.sps[0],a.sps[0])&&(i.dts<t.timelineStartInfo.dts||(n=e.dts-i.dts-i.duration,n>=-u&&n<=o&&(!r||l>n)&&(r=a,l=n)));return r?r.gop:null},this.extendFirstKeyFrame_=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},this.groupNalsIntoFrames_=function(t){var e,n,r=[],i=[];for(r.byteLength=0,e=0;e<t.length;e++)n=t[e],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},this.groupFramesIntoGops_=function(t){var e,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,e=0;e<t.length;e++)n=t[e],n.keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},this.generateSampleTable_=function(t,e){var n,r,i,a,s,u=e||0,l=[];for(n=0;n<t.length;n++)for(a=t[n],r=0;r<a.length;r++)s=a[r],i=o(),i.dataOffset=u,i.compositionTimeOffset=s.pts-s.dts,i.duration=s.duration,i.size=4*s.length,i.size+=s.byteLength,s.keyFrame&&(i.flags.dependsOn=2),u+=i.size,l.push(i);return l},this.concatenateNalData_=function(t){var e,n,r,i,a,s,o=0,u=t.byteLength,l=t.nalCount,f=u+4*l,d=new Uint8Array(f),c=new DataView(d.buffer);for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(a=i[n],r=0;r<a.length;r++)s=a[r],c.setUint32(o,s.data.byteLength),o+=4,d.set(s.data,o),o+=s.data.byteLength;return d},this.alignGopsAtStart_=function(t){var e,n,r,i,a,s,o,l;for(a=t.byteLength,s=t.nalCount,o=t.duration,e=n=0;e<u.length&&n<t.length&&(r=u[e],i=t[n],r.pts!==i.pts);)i.pts>r.pts?e++:(n++,a-=i.byteLength,s-=i.nalCount,o-=i.duration);return 0===n?t:n===t.length?null:(l=t.slice(n),l.byteLength=a,l.duration=o,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,r,i,a,s;for(e=u.length-1,n=t.length-1,a=null,s=!1;e>=0&&n>=0;){if(r=u[e],i=t[n],r.pts===i.pts){s=!0;break}r.pts>i.pts?e--:(e===u.length-1&&(a=n),n--)}if(!s&&null===a)return null;var o;if(o=s?n:a,0===o)return t;var l=t.slice(o),f=l.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return l.byteLength=f.byteLength,l.duration=f.duration,l.nalCount=f.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){u=t}},r.prototype=new p,l=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},f=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},d=function(t){var e,n,r=t.minSegmentDts-t.timelineStartInfo.dts;return e=t.timelineStartInfo.baseMediaDecodeTime,e+=r,e=Math.max(0,e),"audio"===t.type&&(n=t.samplerate/k,e*=n,e=Math.floor(e)),e},s=function(t,e){this.numberOfTracks=0,this.metadataStream=e,"undefined"!=typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,s.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},s.prototype=new p,s.prototype.flush=function(t){var e,n,r,i,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,w.forEach(function(t){s.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,S.forEach(function(t){s.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,r=g.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(r.byteLength),s.initSegment.set(r),s.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)s.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)e=this.pendingCaptions[i],e.startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,s.captionStreams[e.stream]=!0,s.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)n=this.pendingMetadata[i],n.cueTime=n.pts-o,n.cueTime/=9e4,s.metadata.push(n);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},a=function(t){var e,n,o=this,l=!0;a.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new m.MetadataStream,e.aacStream=new _,e.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),e.adtsStream=new y,e.coalesceStream=new s(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new i(n),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new m.MetadataStream,a.packetStream=new m.TransportPacketStream,a.parseStream=new m.TransportParseStream,a.elementaryStream=new m.ElementaryStream,a.videoTimestampRolloverStream=new m.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),a.adtsStream=new y,a.h264Stream=new v,a.captionStream=new m.CaptionStream,a.coalesceStream=new s(t,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(s){var u;if("metadata"===s.type){for(u=s.tracks.length;u--;)e||"video"!==s.tracks[u].type?n||"audio"!==s.tracks[u].type||(n=s.tracks[u],n.timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(e=s.tracks[u],e.timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime);e&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new r(e,t),a.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts))}),a.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new i(n),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=t,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,f(n),n.timelineStartInfo.baseMediaDecodeTime=t,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,f(e),r.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(l){var e=u(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},a.prototype=new p,e.exports={Transmuxer:a,VideoSegmentStream:r,AudioSegmentStream:i,AUDIO_PROPERTIES:S,VIDEO_PROPERTIES:w}},{}],77:[function(t,e,n){var r,i,a,s,o,u,l=9e4;r=function(t){return t*l},i=function(t,e){return t*e},a=function(t){return t/l},s=function(t,e){return t/e},o=function(t,e){return r(s(t,e))},u=function(t,e){return i(a(t),e)},e.exports={secondsToVideoTs:r,secondsToAudioTs:i,videoTsToSeconds:a,audioTsToSeconds:s,audioTsToVideoTs:o,videoTsToAudioTs:u}},{}],78:[function(t,e,n){"use strict";var r;r=function(t){var e=t.byteLength,n=0,r=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+r},this.loadWord=function(){var i=t.byteLength-e,a=new Uint8Array(4),s=Math.min(4,e);if(0===s)throw new Error("no bytes available");
    a.set(t.subarray(i,i+s)),n=new DataView(a.buffer).getUint32(0),r=8*s,e-=s},this.skipBits=function(t){var i;r>t?(n<<=t,r-=t):(t-=r,i=Math.floor(t/8),t-=8*i,e-=i,this.loadWord(),n<<=t,r-=t)},this.readBits=function(t){var i=Math.min(r,t),a=n>>>32-i;return r-=i,r>0?n<<=i:e>0&&this.loadWord(),i=t-i,i>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var t;for(t=0;t<r;++t)if(0!==(n&2147483648>>>t))return n<<=t,r-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=r},{}],79:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{}],80:[function(t,e,n){var r=arguments[3],i=arguments[4],a=arguments[5],s=JSON.stringify,o=!1,u=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=entryModule)};"undefined"==typeof r&&(o=!0,r=u,i=__webpack_modules__);var l=function(t){for(var e,n=Object.keys(a),o=0;o<n.length;o++){var u=n[o],l=a[u].exports;if(l===t||l&&l["default"]===t){e=u;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},o=0;o<n.length;o++){var u=n[o];f[u]=u}i[e]=["function(require,module,exports){"+t+"(self); }",f]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),c={};c[e]=e,i[d]=["function(require,module,exports){var f = require("+s(e)+");(f.default ? f.default : f)(self);}",c];var h={},p=function g(t){h[t]=!0;for(var e in i[t][1]){var n=i[t][1][e];h[n]||g(n)}};return p(d),"("+r+")({"+Object.keys(h).map(function(t){return s(t)+":["+i[t][0]+","+s(i[t][1])+"]"}).join(",")+"},{},["+s(d)+"])"},f=function(t,e){var n,a="string"==typeof e;n=a?{}:[],Object.keys(i).forEach(function(t){i[t]&&(n[t]=i[t].toString())});var s=__webpack_require__(e);if(!s||s!==t&&s["default"]!==t){var o=n[e];n[e]=o.substring(0,o.length-1)+"\n"+t.name+"();\n}"}var u;if(a){e='"'+e+'"';var l=Object.keys(n).map(function(t){return'"'+t+'":'+n[t]});u="{"+l.join(",")+"}"}else u="["+n.join(",")+"]";return"var fn = ("+r.toString().replace("entryModule",e)+")("+u+');\n(typeof fn === "function") && fn(self);'};e.exports=function(t,e){var n;n=o?f(t,e):l(t);var r=new Blob([n],{type:"text/javascript"}),i=window.URL||window.webkitURL||window.mozURL||window.msURL,a=i.createObjectURL(r),s=new Worker(a);return s.objectURL=a,s}},{}],81:[function(t,e,n){var r=arguments[3],i=arguments[4],a=arguments[5],s=JSON.stringify;e.exports=function(t){for(var e,n=Object.keys(a),o=0,u=n.length;o<u;o++){var l=n[o];if(a[l].exports===t){e=l;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},o=0,u=n.length;o<u;o++){var l=n[o];f[l]=l}i[e]=[Function(["require","module","exports"],"("+t+")(self)"),f]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),c={};c[e]=e,i[d]=[Function(["require"],"require("+s(e)+")(self)"),c];var h="("+r+")({"+Object.keys(i).map(function(t){return s(t)+":["+i[t][0]+","+s(i[t][1])+"]"}).join(",")+"},{},["+s(d)+"])",p=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(p.createObjectURL(new Blob([h],{type:"text/javascript"})))}},{}],82:[function(t,e,n){(function(n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,a=e,s=n;r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=a,n=s,r=!0,o=l=void 0}},u=t(28),l=r(u),f=t(9),d=r(f),c=t(11),h=r(c),p=t(21),g=r(p),m=t(25),y=t(2),v=r(y),_=t(57),b=t(31),T=r(b),S="undefined"!=typeof window?window.videojs:"undefined"!=typeof n?n.videojs:null,w=r(S),k=t(5),O=t(3),E=r(O),A=t(14),L=r(A),P=t(29),I=r(P),C=t(8),x=r(C),U=t(13),M=r(U),R=t(10),D={PlaylistLoader:d["default"],Playlist:h["default"],Decrypter:m.Decrypter,AsyncStream:m.AsyncStream,decrypt:m.decrypt,utils:v["default"],STANDARD_PLAYLIST_SELECTOR:R.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:R.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:R.comparePlaylistBandwidth,comparePlaylistResolution:R.comparePlaylistResolution,xhr:(0,g["default"])()},B=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(D,t,{get:function(){return w["default"].log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),E["default"][t]},set:function(e){return w["default"].log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?void w["default"].log.warn("value of Hls."+t+" must be greater than or equal to 0"):void(E["default"][t]=e)}})});var j=function(t,e){for(var n=e.media(),r=-1,i=0;i<t.length;i++)if(t[i].id===n.uri){r=i;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},N=function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),j(t,e.playlists)};D.canPlaySource=function(){return w["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},D.supportsNativeHls=function(){return!1}(),D.isSupported=function(){return w["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var F=w["default"].getComponent("Component"),q=function(t){function e(t,n,r){var a=this;if(i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,n,r.hls),n.options_&&n.options_.playerId){var s=(0,w["default"])(n.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return w["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),a}})}if(this.tech_=n,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(l["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=l["default"].fullscreenElement||l["default"].webkitFullscreenElement||l["default"].mozFullScreenElement||l["default"].msFullscreenElement;e&&e.contains(a.tech_.el())&&a.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){return this.ignoreNextSeekingEvent_?void(this.ignoreNextSeekingEvent_=!1):void this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return a(e,t),s(e,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=B),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===B,["withCredentials","bandwidth"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t){var e=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=D,this.masterPlaylistController_=new k.MasterPlaylistController(this.options_),this.playbackWatcher_=new x["default"](w["default"].mergeOptions(this.options_,{seekable:function(){return e.seekable()}})),this.masterPlaylistController_.on("error",function(){var t=w["default"].players[e.tech_.options_.playerId];t.error(e.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):D.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=D.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;e=this.throughput>0?1/this.throughput:0;var n=Math.floor(1/(t+e));return n},set:function(){w["default"].log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return e.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return e.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return e.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return e.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return e.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return e.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return e.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return e.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,L["default"])(e)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return e.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(w["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=w["default"].players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){N(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){j(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),o(Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(F),G=function H(t){return{canHandleSource:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=w["default"].mergeOptions(w["default"].options,n);return(!r.hls||!r.hls.mode||r.hls.mode===t)&&H.canPlayType(e.type,r)},handleSource:function(e,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=w["default"].mergeOptions(w["default"].options,r,{hls:{mode:t}});return"flash"===t&&n.setTimeout(function(){n.trigger("loadstart")},1),n.hls=new q(e,n,i),n.hls.xhr=(0,g["default"])(),n.hls.src(e.src),n.hls},canPlayType:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=w["default"].mergeOptions(w["default"].options,e);return H.canPlayType(t,n)?"maybe":""}}};G.canPlayType=function(t,e){if(w["default"].browser.IE_VERSION&&w["default"].browser.IE_VERSION<=10)return!1;var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!e.hls.overrideNative&&D.supportsNativeHls)&&n.test(t)},"undefined"!=typeof w["default"].MediaSource&&"undefined"!=typeof w["default"].URL||(w["default"].MediaSource=_.MediaSource,w["default"].URL=_.URL);var W=w["default"].getTech("Flash");_.MediaSource.supportsNativeMediaSources()&&w["default"].getTech("Html5").registerSourceHandler(G("html5"),0),I["default"].Uint8Array&&W&&W.registerSourceHandler(G("flash")),w["default"].HlsHandler=q,w["default"].HlsSourceHandler=G,w["default"].Hls=D,w["default"].use||w["default"].registerComponent("Hls",D),w["default"].m3u8=T["default"],w["default"].options.hls=w["default"].options.hls||{},w["default"].registerPlugin?w["default"].registerPlugin("reloadSourceOnError",M["default"]):w["default"].plugin("reloadSourceOnError",M["default"]),e.exports={Hls:D,HlsHandler:q,HlsSourceHandler:G}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[82]);